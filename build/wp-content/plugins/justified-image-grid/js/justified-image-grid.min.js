function loadJustifiedImageGrid(e){e.justifiedImageGrid=function(t,i){t={targetHeight:190,heightDeviation:40,aspectRatio:"",disableCropping:"",randomizeWidth:"",margins:4,animSpeed:300,limit:0,initiallyLoad:"",maxRows:"",linkClass:"",linkRel:"jig[*instance*]",linkAttributeName:"",linkAttributeValue:"",linkAttribute:"",linkTitleField:"description",imgAltField:"title",wrapText:"no",readingDirection:"ltr",loadMore:"off",loadMoreText:"Load more",loadMoreCountText:"(*count* images remaining)",loadMoreOffset:100,loadMoreAutoWidth:"on",disableHover:"no",downloadLink:"no",lightboxLink:"no",verticalCenterCaptions:"off",customFonts:"yes",captionHeight:54,quality:90,retinaReady:"yes",retinaQuality:"auto",minRetinaQuality:30,maxRetinaDensity:3,caption:"fade",captionMatchWidth:"no",captionMatchWidthForceNo:!1,titleField:"title",captionField:"description",lightbox:"prettyphoto",lightboxInit:"jigAddLightbox1",overlay:"hovered",overlayIcon:"off",bordersTotal:0,innerBorder:"always",innerBorderWidth:0,innerBorderAnimate:"width",middleBorder:"always",middleBorderWidth:0,middleBorderColor:"white",outerBorder:"always",outerBorderColor:"black",specialFx:"off",specialFxType:"desaturate",specialFxOptions:"",specialFxBlend:1,incompleteLastRow:"normal",errorChecking:"yes",suppressErrors:"no",retryCount:0,resizeCount:0,errorChecked:!1,errorImages:[],filters:!1,filterMultiple:"no",filterStyle:"buttons",L2filters:!1,L2FilterMultiple:"no",L2FilterStyle:"buttons",filterSmallestColor:"#A3A3A3",filterSmallestSize:11,filterLargestColor:"#000000",filterLargestSize:22,separatorCharacter:" - ",thumbnailFilename:"normal",cropZone:"",instance:1,element:e(t),lastWindowWidth:e(window).width()};var r=this,a=e.extend({},t,i),o="object"==typeof e.support&&"opacity"in e.support&&!e.support.opacity,n="",l=!!window.chrome&&!/opera|opr/i.test(navigator.userAgent);this.s=a;try{n=0<window.navigator.userAgent.indexOf("MSIE ")||!!navigator.userAgent.match(/Trident.*rv\:11\./),"Netscape"==navigator.appName&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge")&&(n=!0)}catch(t){n=!1}var s=!1;"ontouchstart"in document.documentElement&&(s=!0),r.init=function(){if(a.originalTargetHeight=a.targetHeight,a.minHeight=a.originalMinHeight=a.targetHeight-a.heightDeviation,a.maxHeight=a.originalMaxHeight=a.targetHeight+a.heightDeviation,a.prevScreenHeightLimitRatio=-1,a.defaultHeightRatio=a.originalDefaultHeightRatio=a.targetHeight/a.maxHeight,a.originalLimit=a.limit,a.hiddenOpacity=o?.01:0,n&&a.element.addClass("jig-ua-ie"),o&&a.element.addClass("jig-ua-old-ie"),!1===s?a.element.addClass("jig-no-touch"):a.element.addClass("jig-touch"),"no"!==a.lightbox&&"links-off"!==a.lightbox&&"new_tab"!==a.lightbox)if(a.hiddenLinkClass=""!==a.linkClass?'class="jig-link jig-hiddenLink '+a.linkClass+'" ':'class="jig-link jig-hiddenLink" ',a.linkClass=""!==a.linkClass?'class="jig-link '+a.linkClass+'" ':'class="jig-link" ',-1!==a.linkRel.indexOf("*instance*"))a.linkRel='rel="'+a.linkRel.replace("*instance*",a.instance)+'" ';else if(-1!==a.linkRel.indexOf("auto"))switch(a.lightbox){case"prettyphoto":a.linkRel='rel="'+a.linkRel.replace("auto","prettyPhoto["+a.instance+"]")+'" ';break;case"colorbox":a.linkRel='rel="'+a.linkRel.replace("auto","colorBox["+a.instance+"]")+'" ';break;default:a.linkRel='rel="'+a.linkRel.replace("auto","gallery["+a.instance+"]")+'" '}else a.linkRel='rel="'+a.linkRel+'" ';else a.linkClass="",a.hiddenLinkClass="",a.linkRel="";var t,i,l,c;function f(){return!1}""!==a.linkAttributeName&&(""!==a.linkAttributeValue?a.linkAttribute=" "+a.linkAttributeName+'="'+a.linkAttributeValue+'"':a.linkAttribute=" "+a.linkAttributeName+'=""'),a.allItems=a.selectedItems=a.items.slice(),a.aspectRatio&&(a.maxWidth=Math.floor(a.maxHeight*parseFloat(a.aspectRatio)),"normal"==a.incompleteLastRow&&(a.incompleteLastRow="match","off"!==a.loadMore&&(a.incompleteLastRow="flexible-match"))),"yes"==a.retinaReady&&(void 0===window.devicePixelRatio||1==window.devicePixelRatio?(a.retinaReady="no",a.devicePixelRatio=1):window.devicePixelRatio>a.maxRetinaDensity?a.devicePixelRatio=a.maxRetinaDensity:a.devicePixelRatio=window.devicePixelRatio),"yes"==a.retinaReady&&("auto"==a.retinaQuality?(a.quality=Math.ceil(a.quality/a.devicePixelRatio),a.quality=a.quality>a.minRetinaQuality?a.quality:a.minRetinaQuality):a.quality=a.retinaQuality),"yes"==a.disableCropping&&(a.minHeight=a.originalMinHeight=50),"captions"==a.specialFx&&"below"==a.caption&&(a.specialFx="off"),"yes"!=a.customFonts||"off"===a.caption||"below"!=a.caption&&"off"===a.verticalCenterCaptions&&"captions"!=a.specialFx||0===(t=e("body").find(".jig-fontCheck")).length&&(e("body").append('<div class="jig-fontCheck">!"\'\\#$%&amp;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~ A quick brown fox jumps over the lazy dog.</div>'),i=(t=e("body").find(".jig-fontCheck")).width(),l=0,c=setInterval((function(){l++;var r=t.width();i!=r&&0!==r?(e("body").trigger("jig-fontLoaded"),t.remove(),clearInterval(c)):50<l&&(t.remove(),clearInterval(c))}),100));var h,p,u,m,w=f,v=f,j=f,y=f,x=f,b=f,I=f,k=f,T=f,R=f,M=f,H=f,S=function(t,i,r,o){var n;"captions"!==a.specialFx||".jig-caption-wrapper .jig-caption"!==i?t.find(i).JIGhoverFlow(r,{opacity:o},a.animSpeed):(i=t.find(i),n=L(i,!0),i.JIGhoverFlow(r,{opacity:o},{duration:a.animSpeed,progress:function(){0!==e(this).closest(".jig-cw-role-real").length&&C(n)}}))},A=function(t,i,r,o){var n;"captions"!==a.specialFx?t.find(i).JIGhoverFlow(r,{height:o},a.animSpeed,"JIGeaseInOutQuad"):(i=t.find(i),n=L(i),i.JIGhoverFlow(r,{height:o},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){0!==e(this).closest(".jig-cw-role-real").length&&C(n)}}))},B=function(t,i,r,o){var n,l,s;"captions"!==a.specialFx?t.find(i).JIGhoverFlow(r,{height:o},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var e=t.find(".jig-caption-wrapper"),i=t.parent();e.css("top",Math.round(i.height()/2-e.height()/2))}}):(n=t.find(i),l=L(n),s=n.closest(".jig-caption"),t.find(i).JIGhoverFlow(r,{height:o},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var i=t.find(".jig-caption-wrapper"),r=t.parent();i.css("top",Math.round(r.height()/2-s.height()/2)),0!==e(this).closest(".jig-cw-role-real").length&&C(l)},complete:function(){"slide"!=a.caption&&"reverse-slide"!=a.caption||"hide"!=o||t.find(".jig-cw-role-effect").height(.01)}}))},G=function(e,t,i,r){e.find(t).JIGhoverFlow(i,{opacity:r},a.animSpeed)},P=function(e,t,i,r){e.find(t).JIGhoverFlow(i,{borderLeftWidth:r,borderTopWidth:r,borderRightWidth:r,borderBottomWidth:r},a.animSpeed)};switch(a.overlay){case"hovered":v="on"===a.overlayIcon?(w=function(e){S(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","show")},function(e){S(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","hide")}):(w=function(e){S(e,"div.jig-overlay-wrapper","mouseenter","show")},function(e){S(e,"div.jig-overlay-wrapper","mouseleave","hide")});break;case"others":v="on"===a.overlayIcon?(w=function(e){S(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","hide")},function(e){S(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","show")}):(w=function(e){S(e,"div.jig-overlay-wrapper","mouseenter","hide")},function(e){S(e,"div.jig-overlay-wrapper","mouseleave","show")})}switch(a.innerBorder){case"hovered":switch(a.innerBorderAnimate){case"width":I=function(e){P(e,"div.jig-border","mouseenter",a.innerBorderWidth+"px")},k=function(e){P(e,"div.jig-border","mouseleave",0)};break;case"opacity":I=function(e){S(e,"div.jig-border","mouseenter","show")},k=function(e){S(e,"div.jig-border","mouseleave","hide")};break;case"off":I=function(t){e(t).find("div.jig-border").show()},k=function(t){e(t).find("div.jig-border").hide()}}break;case"others":switch(a.innerBorderAnimate){case"width":I=function(e){P(e,"div.jig-border","mouseenter",0)},k=function(e){P(e,"div.jig-border","mouseleave",a.innerBorderWidth+"px")};break;case"opacity":I=function(e){S(e,"div.jig-border","mouseenter","hide")},k=function(e){S(e,"div.jig-border","mouseleave","show")};break;case"off":I=function(t){e(t).find("div.jig-border").hide()},k=function(t){e(t).find("div.jig-border").show()}}}switch(a.middleBorder){case"hovered":T=function(t){e(t).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)},R=function(t){e(t).parent().parent("div.jig-imageContainer").css("background","transparent")};break;case"others":T=function(t){e(t).parent().parent("div.jig-imageContainer").css("background","transparent")},R=function(t){e(t).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)}}switch(a.outerBorder){case"hovered":M=function(t){e(t).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)},H=function(t){e(t).parent().parent("div.jig-imageContainer").css("border-color","transparent")};break;case"others":M=function(t){e(t).parent().parent("div.jig-imageContainer").css("border-color","transparent")},H=function(t){e(t).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)}}if(o)switch(a.specialFx){case"others":j=function(e){G(e,".jig-pixastic","mouseleave",.01)},y=function(e){G(e,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case"hovered":j=function(e){G(e,".jig-pixastic","mouseenter",a.specialFxBlend)},y=function(e){G(e,".jig-pixastic","mouseleave",.01)}}else switch(a.specialFx){case"others":j=function(e){G(e,".jig-pixastic","mouseenter",.01)},y=function(e){G(e,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case"hovered":j=function(e){G(e,".jig-pixastic","mouseenter",a.specialFxBlend)},y=function(e){G(e,".jig-pixastic","mouseleave",.01)}}switch(a.caption){case"fade":x=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},b=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")};break;case"reverse-fade":x=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},b=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseleave","show")};break;case"slide":b=o?(x=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){S(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(x=function(e){A(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){A(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):(x=function(e){B(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){B(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")});break;case"reverse-slide":b=o?(x=function(e){S(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){S(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(x=function(e){A(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){A(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):(x=function(e){B(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){B(e,".jig-caption-wrapper .jig-caption","mouseleave","show")});break;case"mixed":b="off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(x=function(e){A(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){A(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")}):(x=function(e){B(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){B(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")});break;case"reverse-mixed":b="off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(x=function(e){A(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){A(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")}):(x=function(e){B(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){B(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")})}if("yes"!==a.disableHover&&(a.element.on("mouseenter mouseleave","a",(function(t){var i=e(this);"none"!==i.css("display")&&(t.stopImmediatePropagation(),"mouseenter"===t.type?(w(i),j(i),x(i),I(i),T(i),M(i),i.data("title",i.attr("title")),i.removeAttr("title")):(v(i),y(i),b(i),k(i),R(i),H(i),i.attr("title",i.data("title"))))})),a.element.on("mousedown","a",(function(t){e(this).attr("title",e(this).data("title"))}))),e("body").one("jig-fontLoaded",d),"off"!==a.loadMore&&(a.loadMoreCounter=0,"carousel"==a.lightbox&&a.element.on("click",(function(t){e(t.target).hasClass("justified-image-grid")&&(t.stopPropagation(),t.preventDefault())})),a.element.on("click",".jig-loadMoreButton",F)),"prettyphoto"==a.lightbox&&"undefined"!=typeof jigOtherPrettyPhotoIsPresent&&e(document).ready((function(){setTimeout((function(){window[a.lightboxInit]()}),10)})),a.filters||a.L2filters){if(a.filteredImages=[],a.filters){a.filterMultiple=a.filterMultiple||"no",a.filterStyle=a.filterStyle||"buttons";var _="buttons"==a.filterStyle?(a.filterType="Button","div"):(a.filterType="Tag","span"),z='<div id="jig'+a.instance+"-filter"+a.filterType+'s" class="jig-filter'+a.filterType+"s "+("no"!==a.filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(s?"jig-touch ":"jig-no-touch ")+(n?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="1">';for(h in a.filters)W(a.filters,h)&&(a.filteredImages[h]=[],z+="<"+_+' class="jig-filter'+a.filterType+'" data-filter-slug="'+h+'">'+a.filters[h]+"</"+_+">");a.element.before(z+="</div>"),void 0!==a.filteredImages["all-items-nofilter"]&&(a.filteredImages["all-items-nofilter"]=a.selectedItems.slice());for(var E=0,O=a.selectedItems.length;E<O;E+=1)if(a.selectedItems[E].filters)for(var D=0,N=a.selectedItems[E].filters.length;D<N;D+=1)void 0!==a.filteredImages[a.selectedItems[E].filters[D][0]]&&"function"==typeof a.filteredImages[a.selectedItems[E].filters[D][0]].push&&a.filteredImages[a.selectedItems[E].filters[D][0]].push(a.selectedItems[E]);var Q=e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+'[data-filter-slug="all-items-nofilter"]');if(0<Q.length&&e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug")!==Q.attr("data-filter-slug")&&Q.parent().prepend(Q),"tags"==a.filterStyle){for(h in a.filters)W(a.filters,h)&&e("#jig"+a.instance+"-filter"+a.filterType+'s .jig-filterTag[data-filter-slug="'+h+'"]').attr("rel",a.filteredImages[h].length);e.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}},0<Q.length?(Q.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).slice(1).tagcloud()):e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).tagcloud()}e("#jig"+a.instance+"-filter"+a.filterType+"s").on("click",".jig-filter"+a.filterType,g)}if(a.L2filters){a.L2filterMultiple=a.L2filterMultiple||"no",a.L2filterStyle=a.L2filterStyle||"buttons",p="buttons"==a.L2filterStyle?(a.L2filterType="Button","div"):(a.L2filterType="Tag","span"),a.L2filteredImages=[];var J='<div id="jig'+a.instance+"-L2filter"+a.L2filterType+'s" class="jig-filter'+a.L2filterType+"s "+("no"!==a.L2filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(s?"jig-touch ":"jig-no-touch ")+(n?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="2">';for(u in a.L2filters)W(a.L2filters,u)&&(a.L2filteredImages[u]=[],J+="<"+p+' class="jig-filter'+a.L2filterType+'" data-filter-slug="'+u+'">'+a.L2filters[u]+"</"+p+">");a.element.before(J+="</div>"),void 0!==a.L2filteredImages["all-items-nofilter"]&&(a.L2filteredImages["all-items-nofilter"]=a.selectedItems.slice());for(var q=0,U=a.selectedItems.length;q<U;q+=1)if(a.selectedItems[q].L2filters)for(var $=0,V=a.selectedItems[q].L2filters.length;$<V;$+=1)void 0!==a.L2filteredImages[a.selectedItems[q].L2filters[$][0]]&&"function"==typeof a.L2filteredImages[a.selectedItems[q].L2filters[$][0]].push&&a.L2filteredImages[a.selectedItems[q].L2filters[$][0]].push(a.selectedItems[q]);if(0<(Q=e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+'[data-filter-slug="all-items-nofilter"]')).length&&e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug")!==Q.attr("data-filter-slug")&&Q.parent().prepend(Q),"tags"==a.L2filterStyle){for(u in a.L2filters)W(a.L2filters,u)&&e("#jig"+a.instance+"-L2filter"+a.L2filterType+'s .jig-filterTag[data-filter-slug="'+u+'"]').attr("rel",a.L2filteredImages[u].length);e.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}},0<Q.length?(Q.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).slice(1).tagcloud()):e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).tagcloud()}e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s").on("click",".jig-filter"+a.L2filterType,g)}g()}else r.createGallery();a.element.trigger("jig-created"),e(window).resize((function(){void 0!==m&&clearTimeout(m),m=setTimeout((function(){r.createGallery("resize"),a.element.trigger("jig-resized")}),100)}))},r.createGallery=function(t){if(!1===e.JIGjQueryMinVersion("1.7"))return JIGjQueryMinVersion("1.7",!0),!1;var i,n=Math.round(a.element.width()),l=e(window).width();if(void 0===a.fixedWidth?(a.element.css("width","").css("width",Math.round(a.element.width())),0===a.element.width()?void 0===a.fallbackWidth?0!==n&&l==a.lastWindowWidth?a.element.css("width",n+"px"):(i=0,a.element.parents().each((function(t,r){var o=e(r),n=e(r).parent();if(r=o.width(),o.is(":visible")&&0!==r)return a.element.css("width",r-i+"px"),void 0===n.data("jigAddedTabsHandler")&&(n.on("click",(function(t){l!==e(window).width()&&n.find(".justified-image-grid").each((function(){var t=e(this);t.is(":visible")&&t.data("justifiedImageGrid").createGallery("resize")}))})),n.data("jigAddedTabsHandler",!0)),!1;i+=o.outerWidth(!0)-o.width()}))):a.element.css("width",a.fallbackWidth+"px"):1e4<a.element.width()&&(a.element.css("width",l),e(window).on("load",(function(){r.createGallery("resize")})))):a.element.css("width","").css("width",a.fixedWidth),(n=Math.round(a.element.width()))<9)return 10<a.retryCount?void a.element.find(".jig-clearfix").html("The element is invisible or too thin, upon page loading. In case of using tabs, try a Custom width in the General settings and you may also use a fixed width. (Justified Image Grid)"):void(a.retryBuilding=setTimeout((function(){a.retryCount++,r.createGallery()}),100));if(a.retryBuilding&&clearTimeout(a.retryBuilding),a.element.find(".jig-clearfix").empty(),a.justResized=!1,"resize"===t){if(a.areaWidth&&a.areaWidth==n)return;a.justResized=!0}if(a.element.find(".jig-overflow a *:not(div)").off(),a.areaWidth=n,a.row=[],a.fullWidth=a.extra=0,a.rows=[],a.unshifts=[],a.screenHeight=e(window).height(),a.screenHeightLimitRatio=Math.min(a.screenHeight/a.originalMaxHeight,1),a.prevScreenHeightLimitRatio!==a.screenHeightLimitRatio){if(a.screenHeightLimitRatio<1?(a.maxHeight=a.screenHeight,a.targetHeight=Math.round(a.maxHeight-a.heightDeviation*a.screenHeightLimitRatio),a.minHeight=50!=a.minHeight?Math.round(a.targetHeight-a.heightDeviation*a.screenHeightLimitRatio):50,a.defaultHeightRatio=a.targetHeight/a.maxHeight):(a.maxHeight=a.originalMaxHeight,a.targetHeight=a.originalTargetHeight,a.minHeight=a.originalMinHeight,a.defaultHeightRatio=a.originalDefaultHeightRatio),-1!=a.prevScreenHeightLimitRatio||1!=a.screenHeightLimitRatio)for(var s in a.selectedItems)W(a.selectedItems,s)&&(void 0===a.selectedItems[s].originalWidth&&(a.selectedItems[s].originalWidth=a.selectedItems[s].width),a.selectedItems[s].width=Math.round(a.selectedItems[s].originalWidth*a.screenHeightLimitRatio));a.prevScreenHeightLimitRatio=a.screenHeightLimitRatio}if(a.items=a.selectedItems.slice(),!0===a.errorChecked&&!1===a.justResized){for(var g in a.items)if(W(a.items,g)&&-1!=e.inArray(void 0===a.items[g].photon?void 0===a.items[g].thumbUrl?a.items[g].url:a.items[g].thumbUrl:a.items[g].photon,a.errorImages)){var h=a.items[g];if(a.items.splice(g,1),a.filters){g=e("#jig"+a.instance+"-filterButtons .jig-filterButtonSelected").attr("data-filter-slug"),a.filteredImages[g]=a.items.slice();for(var p=1,u=a.filters.length;p<u;p+=1)for(var m=0,w=a.filteredImages[a.filters[p][0]].length;m<w;m+=1){var v=e.inArray(h,a.filteredImages[a.filters[p][0]]);-1!=v&&a.filteredImages[a.filters[p][0]].splice(v,1)}}}if(a.selectedItems=a.items.slice(),a.errorImages=[],0===a.selectedItems.length)return void M();a.errorChecked=!1}for(""!==a.maxRows&&0!==a.maxRows||(a.maxRows=1e3),a.rowcount=0,a.imagesShown=0,""!==a.initiallyLoad&&"off"!==a.loadMore&&0===a.loadMoreCounter&&(a.limit=parseInt(a.initiallyLoad,10)),0!==a.limit&&a.limit<a.selectedItems.length?a.whileUntil=a.items.length-a.limit:a.whileUntil=0;a.items.length>a.whileUntil&&a.rowcount<a.maxRows;){var b=f();!1!==b&&(a.rows.push(b),a.rowcount++)}a.imagesShown+=a.selectedItems.length-a.items.length,a.element.find(".jig-imageContainer").slice(a.imagesShown).remove(),a.imagesAlreadyAdded=a.element.find(".jig-imageContainer").length;for(var k,L,C,T=0,H=0,S=a.rows.length;H<S;H+=1)for(var A=0,B=a.rows[H].length;A<B;A+=1)T++,((k=a.rows[H][A]).container&&T<=a.imagesAlreadyAdded?y:j)(k,a.rows[H].length,A);if("links-off"!==a.lightbox&&"no"!==a.lightbox&&"new_tab"!==a.lightbox&&""!==a.linkrel){for(;0<a.unshifts.length;)void 0===(k=a.unshifts.shift()).linkContainer?x(k):a.currentHiddenLink=k.linkContainer;for(;0<a.items.length;)void 0===(k=a.items.shift()).linkContainer?x(k):a.currentHiddenLink=k.linkContainer;a.currentHiddenLink=void 0}if(void 0===a.fixedWidth&&(a.element.css("width","").css("width",Math.round(a.element.width())),0===a.element.width()&&a.element.css("width",a.areaWidth+"px")),e("img",a.element).not(".jig-hiddenImg").on("load",(function(){var t,i;this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState)||o?(t=e(this).closest("a"),i=e(this).closest(".jig-overflow"),0!==t.length&&!0!==t.hasClass("jig-loaded")&&(t.addClass("jig-loaded"),"0"===i.css("opacity")&&i.css("opacity",1),"off"!=a.specialFx&&e(this).clone().addClass("jig-pixastic").insertAfter(e(this)).on("load",I).each((function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&e(this).trigger("load")}))),e(this).off("load")):"yes"==a.errorChecking&&(null!==(i=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(e(this).attr("src")))?void 0!==i[1]?a.errorImages.push(i[1]):void 0!==i[2]&&a.errorImages.push(i[2]):a.errorImages.push(e(this).attr("src")),e(this).closest(".jig-imageContainer").addClass("jig-unloadable"),R())})).on("error",(function(){var t;"yes"==a.errorChecking&&(null!==(t=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(e(this).attr("src")))?void 0!==t[1]?a.errorImages.push(t[1]):void 0!==t[2]&&a.errorImages.push(t[2]):a.errorImages.push(e(this).attr("src")),e(this).closest(".jig-imageContainer").addClass("jig-unloadable"),R())})).each((function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&e(this).trigger("load")})),"resize"!==t?c():"prettyphoto"==a.lightbox&&"undefined"!=typeof jigReCallPrettyPhotoAfterPossibleResize?setTimeout((function(){window[a.lightboxInit](),jigReCallPrettyPhotoAfterPossibleResize=void 0}),10):a.visibleImageCount!=e(".jig-imageContainer",a.element).length&&c(),"click"!=a.loadMore&&"scroll"!=a.loadMore&&"hybrid"!=a.loadMore&&"once"!=a.loadMore||(a.loadMoreButton=a.element.find(".jig-loadMoreButton"),n=a.selectedItems.length-a.limit,t=a.element.find(".jig-hiddenLink").length,1==a.loadMoreButton.length?0<n?(a.loadMoreButton.find(".jig-loadMoreButton-count").text(0!==t?t:n),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())):a.loadMoreButton.remove():0<n&&(L="",a.loadMoreCountText&&"none"!==a.loadMoreCountText&&(L=(L=a.loadMoreCountText).replace("*count*",'<span class="jig-loadMoreButton-count">'+(0!==t?t:n)+"</span>")),a.loadMoreButton=e('<div class="jig-loadMoreButton"><span class="jig-loadMoreButton-inner">'+a.loadMoreText+(""!==L?"<br />"+L:"")+"</span></div>"),a.element.find(".jig-clearfix").after(a.loadMoreButton),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())),"scroll"!=a.loadMore&&"hybrid"!=a.loadMore||e(window).scroll((function(){var t;("scroll"==a.loadMore||"hybrid"==a.loadMore&&0<a.loadMoreCounter)&&0<a.selectedItems.length-a.limit&&(t=a.element.find(".jig-loadMoreButton").offset(),e(window).scrollTop()>=t.top-parseInt(a.loadMoreOffset,10)-e(window).height()&&F())}))),"no"!==a.wrapText&&(L=a.element.find(".jig-imageContainer").last(),0===a.element.find(".jig-flowSpacer").length&&a.element.find(".jig-imageContainer").last().after('<div class="jig-flowSpacer"></div>'),C=a.element.find(".jig-flowSpacer").css({width:"1px",height:L.height()+3,float:"ltr"==a.readingDirection?"left":"right"}),setTimeout((function(){"ltr"==a.readingDirection?a.element.offset().left==C.offset().left?C.css("margin-right",0):C.css("margin-right",2*a.margins):a.element.offset().left==C.offset().left?C.css("margin-left",0):C.css("margin-left",2*a.margins)}),1)),"yes"!=a.customFonts||"off"===a.caption||"below"!=a.caption&&"off"===a.verticalCenterCaptions&&"captions"!=a.specialFx||d(!0),a.prevInstanceID="#jig"+(a.instance-1),e(window).width()!=l||a.areaWidth!=Math.round(a.element.width()))return a.resizeCount++,1<a.resizeCount&&a.element.css("min-height",a.element.height()),r.createGallery("resize"),1<a.instance&&0!==e(a.prevInstanceID).length&&e(a.prevInstanceID).data("justifiedImageGrid").createGallery("resize"),void a.element.css("min-height","");1<a.instance&&0!==e(a.prevInstanceID).length&&(a.prevInstanceData=e(a.prevInstanceID).data("justifiedImageGrid"),a.prevInstanceData.s.element.css("width","").css("width",a.prevInstanceData.s.element.width()),a.prevInstanceData.s.areaWidth!=a.prevInstanceData.s.element.width()&&a.prevInstanceData.createGallery("resize")),a.resizeCount=0,a.lastWindowWidth=l,a.visibleImageCount=e(".jig-imageContainer",a.element).length};var d=function(t){!0!==t&&(t="captions"==a.specialFx),a.element.find(".jig-imageContainer").each((function(i,r){var o,n,s,d,c;r=e(r),"off"!==a.verticalCenterCaptions&&(n=(o=r.find(".jig-caption-wrapper")).filter(".jig-cw-role-real"),s=n.height(),d=n.find(".jig-caption"),c=("mixed"==a.caption||"reverse-mixed"==a.caption)&&n.find(".jig-caption-description-wrapper"),"slide"!=a.caption&&"reverse-slide"!=a.caption||!d.is(":animated")?"mixed"!=a.caption&&"reverse-mixed"!=a.caption||!c.is(":animated")?(0===s&&(d.css({opacity:0,display:"block"}),s=n.height(),d.removeAttr("style")),!0===t?o.css({bottom:"auto",top:Math.round(n.closest(".jig-imageContainer").height()/2-s/2)}):o.css({bottom:"auto"}).animate({top:Math.round(n.closest(".jig-imageContainer").height()/2-s/2)},a.animSpeed,"JIGeaseInOutQuad")):c.promise().done((function(){s=n.height();var e=c.height();"mixed"==a.caption&&0!==e?(c.css({display:"none"}),s=n.height(),c.css({display:"block"})):"reverse-mixed"==a.caption&&0===e&&(c.css({display:"block"}),s=n.height(),c.css({display:"none"})),o.css({bottom:"auto"}).animate({top:Math.round(n.closest(".jig-imageContainer").height()/2-s/2)},a.animSpeed,"JIGeaseInOutQuad")})):d.promise().done((function(){0===(s=n.height())&&(d.css({opacity:0,display:"block"}),s=n.height(),d.removeAttr("style")),o.css({bottom:"auto"}).animate({top:Math.round(n.closest(".jig-imageContainer").height()/2-s/2)},a.animSpeed,"JIGeaseInOutQuad")}))),"below"==a.caption&&T(r,!0),"captions"==a.specialFx&&(l&&"no"!==a.captionMatchWidth&&r.find(".jig-caption-title, .jig-caption-wrapper").each((function(){var t=e(this),i=t.css("width","")[0].getBoundingClientRect().width;i%2!=0&&(i=Math.ceil(i),t.css({width:i%2!=0?i+1:i}))})),o=o||r.find(".jig-caption-wrapper"),C(L(o)))}))},c=function(){switch(a.lightbox){case"prettyphoto":case"colorbox":case"magnific":case"photoswipe":case"photoswipe3":case"foobox":case"custom":window[a.lightboxInit]();break;case"links-off":a.element.find("a").css("cursor","default"),a.element.on("click","a",(function(e){e.preventDefault()})),e(a.element).on("click","a",(function(e){2===e.which&&e.preventDefault()}))}},g=function(t){var i,o,n=e(this),l=n.attr("data-filter-slug"),s=!1;if(void 0===t&&(l=(n=(!1!==a.filters?e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType):e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType)).first()).attr("data-filter-slug")),1==(p=n.parent().attr("data-filter-level"))){if("no"==a.filterMultiple||"all-items-nofilter"==l)!1===n.hasClass("jig-filter"+a.filterType+"Selected")&&(n.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected"),n.addClass("jig-filter"+a.filterType+"Selected"),a.selectedItems=a.filteredImages[l],s=!0);else{var d=n.parent().find(".jig-filter"+a.filterType+"Selected").length;if(1==d&&"all-items-nofilter"==n.siblings(".jig-filter"+a.filterType+"Selected").attr("data-filter-slug")&&n.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected"),!1===n.hasClass("jig-filter"+a.filterType+"Selected"))n.addClass("jig-filter"+a.filterType+"Selected"),d++;else{if(1==d){if("all-items-nofilter"!=e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug"))return;e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().click().addClass("jig-filter"+a.filterType+"Selected")}n.removeClass("jig-filter"+a.filterType+"Selected"),d--}var c=[];if(n.parent().find(".jig-filter"+a.filterType+"Selected").each((function(){c.push(e(this).attr("data-filter-slug"))})),l=c.toString(),void 0===a.filteredImages[l]){a.filteredImages[l]=[];for(var g=0,f=a.allItems.length,h=0;h<f;h+=1)if(a.allItems[h].filters)for(o=a.allItems[h].filters.length,i=g=0;i<o;i+=1)"or"==a.filterMultiple?-1<e.inArray(a.allItems[h].filters[i][0],c)&&-1==e.inArray(a.allItems[h],a.filteredImages[l])&&a.filteredImages[l].push(a.allItems[h]):(-1<e.inArray(a.allItems[h].filters[i][0],c)&&g++,g==c.length&&-1==e.inArray(a.allItems[h],a.filteredImages[l])&&a.filteredImages[l].push(a.allItems[h]))}a.selectedItems=a.filteredImages[l],s=!0}s&&a.L2filters&&(a.L1selectedItems=a.selectedItems)}if(a.L2filters){if(2==(p=void 0===t?(n=e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first()).parent().attr("data-filter-level"):p))if("no"==a.L2filterMultiple||"all-items-nofilter"==l)n.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),n.addClass("jig-filter"+a.L2filterType+"Selected");else{var p=n.parent().find(".jig-filter"+a.L2filterType+"Selected").length;if(1==p&&"all-items-nofilter"==n.siblings(".jig-filter"+a.L2filterType+"Selected").attr("data-filter-slug")&&n.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),!1===n.hasClass("jig-filter"+a.L2filterType+"Selected"))n.addClass("jig-filter"+a.L2filterType+"Selected"),p++;else{if(1==p){if("all-items-nofilter"!=e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug"))return;e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().click().addClass("jig-filter"+a.L2filterType+"Selected")}n.removeClass("jig-filter"+a.L2filterType+"Selected"),p--}}var u=[];e("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+"Selected").each((function(){u.push(e(this).attr("data-filter-slug"))})),l=[],a.filters&&e("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+"Selected").each((function(){l.push(e(this).attr("data-filter-slug"))}));var m=l.concat(u).toString();if(!1===a.filters&&(a.L1selectedItems=a.allItems),void 0===a.filteredImages[m])if(1==u.length&&"all-items-nofilter"==u[0])a.filteredImages[m]=a.L1selectedItems,a.selectedItems=a.filteredImages[m];else{a.filteredImages[m]=[];var w=0;for(f=a.L1selectedItems.length,h=0;h<f;h+=1)if(a.L1selectedItems[h].L2filters)for(o=a.L1selectedItems[h].L2filters.length,i=w=0;i<o;i+=1)"or"==a.L2filterMultiple?-1<e.inArray(a.L1selectedItems[h].L2filters[i][0],u)&&-1==e.inArray(a.L1selectedItems[h],a.filteredImages[m])&&a.filteredImages[m].push(a.L1selectedItems[h]):(-1<e.inArray(a.L1selectedItems[h].L2filters[i][0],u)&&w++,w==u.length&&-1==e.inArray(a.L1selectedItems[h],a.filteredImages[m])&&a.filteredImages[m].push(a.L1selectedItems[h]))}a.selectedItems=a.filteredImages[m],s=!0}if(s){a.element.find(".jig-imageContainer, .jig-hiddenLink").remove();for(var v=0,j=a.selectedItems.length;v<j;v+=1)a.selectedItems[v].linkContainer=void 0;r.createGallery("filter")}},f=function(){for(a.row=[],a.validRow=!0,a.fullWidth=0,a.extra=0;a.items.length>a.whileUntil&&a.extra<a.areaWidth;){var e=a.items.shift();e.newHeight=e.newWidth=e.containerHeight=e.containerWidth=e.marLeft=void 0,e.ratio=e.width/a.maxHeight,a.row.push(e),a.fullWidth+=Math.round(e.width*a.defaultHeightRatio)+a.margins+a.bordersTotal,a.extra=a.fullWidth-a.margins}if(a.extra-=a.areaWidth,0<a.row.length&&0<a.extra||0===a.rows.length&&a.items.length>a.whileUntil){for(var t="landscape",i=0,r=a.row.length;i<r;i+=1)if(a.row[i].ratio<1){t="portrait";break}("landscape"!=t&&"yes"!==a.disableCropping?u:p)()}else{if(0<a.rows.length&&a.items.length==a.whileUntil){switch(a.incompleteLastRow){case"flexible":u("flexible");break;case"flexible-center":u("flexible-center");break;case"hide":u("hide");break;case"flexible-match":"off"!==a.loadMore&&a.selectedItems.length-a.limit<=0?h():u("flexible");break;case"flexible-match-center":"off"!==a.loadMore&&a.selectedItems.length-a.limit<=0?h("center"):u("flexible-center");break;case"match":h();break;case"match-center":h("center");break;case"center":u("center");break;default:u("lastRow")}return!0===a.validRow?a.row:(a.imagesShown-=a.row.length,a.unshifts=a.row,a.whileUntil+=a.unshifts.length,!1)}"center"!==a.incompleteLastRow&&"match-center"!==a.incompleteLastRow&&"flexible-match-center"!==a.incompleteLastRow?u("lastRow"):u("center")}return a.row},h=function(e){for(var t,i=0,r=0,o=a.rows.length;r<o;r+=1)i=r;if(void 0!==a.rows[i]&&void 0!==a.rows[i][0]){t=a.rows[i][0].containerHeight||a.rows[i][0].newHeight,a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;for(var n=a.rowlen=0,l=a.row.length;n<l;n+=1)void 0!==a.rows[i][n]&&a.row[n].width==a.rows[i][n].width?(a.row[n].newHeight=a.rows[i][n].newHeight,a.row[n].containerHeight=a.rows[i][n].containerHeight,a.row[n].newWidth=a.rows[i][n].newWidth,a.row[n].containerWidth=a.rows[i][n].containerWidth,a.row[n].marLeft=a.rows[i][n].marLeft):(a.row[n].newHeight=t,a.row[n].newWidth=Math.round(a.row[n].newHeight*a.row[n].ratio)),a.rowlen+=a.row[n].newWidth,void 0!==a.row[n].marLeft&&(a.rowlen-=2*a.row[n].marLeft);t>a.targetHeight&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,0<a.remaining&&m()),void 0!==e&&a.rowlen+a.marginsTotal<a.areaWidth&&(a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-a.rowlen-a.marginsTotal)))}else u("lastRow")},p=function(){var e=!0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal,a.rowlen=0,a.heights=[];for(var t=0,i=a.row.length;t<i;t+=1){var r=Math.round(a.row[t].width*a.defaultHeightRatio),o=Math.round((r+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);if(a.row[t].newWidth=r-o,a.heights[t]=a.row[t].newWidth/a.row[t].ratio,a.heights[t]<a.minHeight)return void u();a.heights[t]>a.maxHeight?(a.row[t].newHeight=a.targetHeight,a.row[t].newWidth=Math.round(a.row[t].newHeight*a.row[t].ratio),e=!1):(a.row[t].newHeight=a.heights[t],a.rowlen+=a.row[t].newWidth)}e&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,m())},u=function(e){var t,i=!0;1!=a.row.length&&void 0===e&&(t=a.row.pop(),a.fullWidth-=Math.round(t.width*a.defaultHeightRatio)+a.margins+a.bordersTotal,a.items.unshift(t),a.extra=a.fullWidth-a.margins,a.extra-=a.areaWidth),a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal,a.rowlen=0,a.heights=[];for(var r=0,o=a.row.length;r<o;r+=1){var n=Math.round(a.row[r].width*a.defaultHeightRatio),l=Math.round((n+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);if(a.row[r].newWidth=n-l,a.heights[r]=a.row[r].newWidth/a.row[r].ratio,a.heights[r]>a.maxHeight){if(void 0===e)return l=a.items.shift(),a.row.push(l),a.fullWidth+=Math.round(l.width*a.defaultHeightRatio)+a.margins+a.bordersTotal,a.extra=a.fullWidth-a.margins,a.extra-=a.areaWidth,void w();if("off"!==a.loadMore&&a.selectedItems.length-a.limit<=0&&("flexible"==e?e="lastRow":"flexible-center"==e&&(e="center")),"lastRow"==e){for(var s=0,d=a.row.length;s<d;s+=1)a.row[s].newHeight=a.targetHeight,a.row[s].newWidth=Math.round(a.row[s].newHeight*a.row[s].ratio);return}if("center"==e){for(var c=0,g=0,f=a.row.length;g<f;g+=1)a.row[g].newHeight=a.targetHeight,a.row[g].newWidth=Math.round(a.row[g].newHeight*a.row[g].ratio),c+=a.row[g].newWidth;return void(a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-c-a.marginsTotal)))}a.validRow=!1,a.row[r].newWidth=void 0,i=!1}else if(a.heights[r]<a.minHeight&&void 0===e)return void w();void 0!==a.row[r].newWidth&&(a.row[r].newHeight=a.heights[r],a.rowlen+=a.row[r].newWidth)}i&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,m())},m=function(){if(0!==a.remaining)if(0<a.remaining)for(;0<a.remaining;)for(var e=0,t=a.row.length;e<t&&(a.row[e].newWidth--,a.row[e].newHeight=a.heights[e]=a.row[e].newWidth/a.row[e].ratio,a.remaining--,0!==a.remaining);e+=1);else for(;a.remaining<0;)for(var i=0,r=a.row.length;i<r&&(a.row[i].newWidth++,a.row[i].newHeight=a.heights[i]=a.row[i].newWidth/a.row[i].ratio,a.remaining++,0!==a.remaining);i+=1);for(var o=Math.floor(Math.min.apply(null,a.heights)),n=0,l=a.row.length;n<l;n+=1)a.row[n].containerHeight=o,a.row[n].newHeight=Math.round(a.row[n].newHeight)},w=function(){for(var e=v(),t=0,i=a.row.length;t<i;t+=1){var r=e[t],o=a.row[t];o.marLeft=Math.round(r/2),o.containerWidth=o.newWidth-r}},v=function(){var e=[],t=0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;for(var i=0,r=a.row.length;i<r;i+=1){var o=a.row[i],n=Math.round(a.row[i].width*a.defaultHeightRatio);o.newHeight=a.targetHeight,o.newWidth=n,e[i]=Math.round((n+a.marginsTotal/a.row.length)/a.fullWidth*a.extra),t+=e[i]}var l=a.extra-t;if(0!==l)if(0<l)for(;0<l;)for(var s=0,d=e.length;s<d&&(e[s]++,0!=--l);s+=1);else for(;l<0;)for(var c=0,g=e.length;c<g&&(e[c]--,0!=++l);c+=1);return e},j=function(t,i,r){if(isNaN(t.newWidth)||!t.width)return!1;void 0!==t.linkContainer&&(e(t.linkContainer).remove(),t.linkContainer=void 0),void 0===t[a.linkTitleField]&&(t[a.linkTitleField]=""),void 0===t[a.imgAltField]&&(t[a.imgAltField]=""),void 0===t[a.titleField]&&(t[a.titleField]=""),void 0===t[a.captionField]&&(t[a.captionField]=""),void 0===t.gallery&&(t.gallery="");var o="";t.carousel_data?(t.carousel_data=" "+t.carousel_data+" ",o=" tiled-gallery-item"):t.carousel_data="",t.extra_class&&(o+=" "+t.extra_class),t.off="",t.url=(t.link,t.url);var n,l,s,d,c,g=e('<div class="jig-imageContainer'+o+'"/>'),f=e('<div class="jig-overflow"/>'),h=t.url,p=t.link_target||"_self",u=a.linkClass,m=a.linkRel,w="",v="";if(o=!0,""!==t.gallery&&(g.append(t.gallery.html),m=' rel="'+t.gallery.rel+'" ',g.addClass(t.gallery.lightbox_class),g.attr("id",t.gallery.id)),t.link&&(h=t.link,"video"!==p&&"videoplayer"!==p?(u="foobox"!==p?'target="'+p+'" '+u.replace("jig-link","jig-customLink"):'target="'+p+'" '+u.replace("jig-link",""),m=t.link_rel?'rel="'+t.link_rel+'"':""):"magnific"==a.lightbox&&-1==u.indexOf("mfp-")&&(u=u.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=p&&"foobox"!=p||-1===h.indexOf("&poster=")&&-1===h.indexOf("|poster=")||(o=!1)),!0===o&&("https%3A%2F%2F"===(h=(h+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===h.substr(0,13)))try{h=decodeURIComponent(h)}catch(t){}return w=t[a.linkTitleField],v=t[a.imgAltField],t.download&&("yes"==a.downloadLink?w+=n=(0!==w.length?a.separatorCharacter:"")+t.download:"alt"==a.downloadLink&&(v+=n=(0!==v.length?a.separatorCharacter:"")+t.download)),t.lightbox_link&&("yes"==a.lightboxLink?w+=(0!==w.length?a.separatorCharacter:"")+t.lightbox_link:"alt"==a.lightboxLink&&(v+=(0!==v.length?a.separatorCharacter:"")+t.lightbox_link)),""!==w&&(w='title="'+w+'" '),""!==v&&(v='alt="'+v+'" '),"new_tab"==a.lightbox&&(u='target="_blank" '),o=a.linkAttribute,t.extra_class&&(o=o.replace("*content*",t.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1"))),h=e("<a "+u+m+o+w+(t.wh?'data-wh="'+t.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?h:"#")+'" />'),v=e("<img "+v+t.carousel_data+"/>"),t.carousel_data&&t.download&&("yes"==a.downloadLink?(n=(0!==v.attr("data-image-title").length?a.separatorCharacter:"")+e("<textarea />").html(t.download).val(),v.attr("data-image-title",v.attr("data-image-title")+n)):"alt"==a.downloadLink&&(n=(0!==v.attr("data-image-description").length?"<br />":"")+e("<textarea />").html(t.download).val(),v.attr("data-image-description",v.attr("data-image-description")+n))),void 0!==t.geo&&v.attr("data-geo",t.geo),r==i-1&&g.addClass("jig-last"),f.css("width",(t.containerWidth||t.newWidth)+"px"),f.css("height",(t.containerHeight||t.newHeight)+"px"),t.photon?v.attr("src",decodeURIComponent((t.photon+"").replace(/\+/g,"%20"))):(r=t.thumbUrl||t.url,i=a.originalMaxHeight,c="","normal"==a.thumbnailFilename&&null!==(s=/.*\.(jpe?g|gif|bmp|png|webp)/im.exec(r))&&(c="&f=."+s[1]),a.aspectRatio||a.randomizeWidth?(l=a.maxWidth,""!==a.randomizeWidth&&(l=void 0!==t.originalWidth?t.originalWidth:t.width),"yes"==a.retinaReady&&(i=Math.floor(i*a.devicePixelRatio),l=Math.floor(l*a.devicePixelRatio)),v.attr("src",a.timthumb+"?src="+r+"&h="+i+"&w="+l+"&q="+a.quality+a.cropZone+c)):"yes"==a.retinaReady?(i=Math.floor(i*a.devicePixelRatio),l=Math.floor((void 0!==t.originalWidth?t.originalWidth:t.width)*a.devicePixelRatio),v.attr("src",a.timthumb+"?src="+r+"&h="+i+"&w="+l+"&q="+a.quality+a.cropZone+c)):v.attr("src",a.timthumb+"?src="+r+"&h="+i+"&q="+a.quality+a.cropZone+c)),v.attr("width",t.newWidth).css("width",t.newWidth+"px"),v.attr("height",t.newHeight).css("height",t.newHeight+"px"),t.marLeft&&v.css("margin-left",-t.marLeft+"px"),("center"==a.incompleteLastRow||"flexible-center"==a.incompleteLastRow||"flexible-match-center"==a.incompleteLastRow||"match-center"==a.incompleteLastRow)&&t.spaceLeft&&0<t.spaceLeft&&(g.css("ltr"==a.readingDirection?"margin-left":"margin-right",t.spaceLeft+"px"),t.spaceLeft=0),v.css("margin-top",0),h.append(v),"off"!==a.overlay&&h.append('<div class="jig-overlay-wrapper"><div class="jig-overlay"></div></div>'+("on"===a.overlayIcon?'<div class="jig-overlay-icon-wrapper"><div class="jig-overlay-icon"></div></div>':"")),"off"!==a.caption&&(""!==t.gallery&&(t[a.titleField]=void 0!==t.gallery[a.titleField]&&""!==t.gallery[a.titleField]&&" "!==t.gallery[a.titleField]?t.gallery[a.titleField]:"",t[a.captionField]=void 0!==t.gallery[a.captionField]&&""!==t.gallery[a.captionField]&&" "!==t.gallery[a.captionField]?t.gallery[a.captionField]:""),(d="")!==t[a.titleField]&&" "!==t[a.titleField]&&(d+='<div class="jig-caption-title">'+H(t[a.titleField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div>"),""!==t[a.captionField]&&" "!==t[a.captionField]&&(d+='<div class="jig-caption-description-wrapper"><div class="jig-caption-description'+(""!==d?"":" jig-alone")+'">'+H(t[a.captionField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div></div>"),""!==d?(t.$captionWrapper=e('<div class="jig-caption-wrapper jig-cw-role-real"><div class="jig-caption">'+d+"</div></div>"),"below"!==a.caption?h.append(t.$captionWrapper):0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?g.append(t.$captionWrapper.width(f.width()-2*parseFloat(a.innerBorderWidth))):g.append(t.$captionWrapper.css({width:f.css("width")}))):"below"==a.caption&&(t.$captionWrapper=e('<div class="jig-caption-wrapper"></div>'),0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?g.append(t.$captionWrapper.width(f.width()-2*parseFloat(a.innerBorderWidth))):g.append(t.$captionWrapper.css({width:f.css("width")})))),0===a.bordersTotal&&0===a.innerBorderWidth||h.append('<div class="jig-border"></div>'),f.append(h),t.carousel_data&&t.caption&&f.append('<div class="tiled-gallery-caption">'+H(t.caption)+"</div>"),g.prepend(f),a.element.find(".jig-clearfix").before(g),"off"!==a.caption&&("below"==a.caption?T(g):"captions"!=a.specialFx||0!==(c=g.find(".jig-cw-role-real")).length&&((d="no"==a.captionMatchWidth||a.captionMatchWidthForceNo?e(c[0].cloneNode(!1)):c.clone()).removeClass("jig-cw-role-real").addClass("jig-cw-role-effect"),("off"!==a.overlay?g.find(".jig-overlay-wrapper"):c).before(d))),t.container=g,t.overflow=f,t.img=v,t.linkElement=h,g},y=function(e,t,i){var r;i==t-1?e.container.addClass("jig-last"):e.container.removeClass("jig-last"),i=e.overflow,t=e.img,i.css("width",(e.containerWidth||e.newWidth)+"px").width(),i.css("height",(e.containerHeight||e.newHeight)+"px"),t.attr("width",e.newWidth).css("width",e.newWidth+"px"),t.attr("height",e.newHeight).css("height",e.newHeight+"px"),e.marLeft?t.css("margin-left",-e.marLeft+"px"):t.css("margin-left",""),"center"!=a.incompleteLastRow&&"flexible-center"!=a.incompleteLastRow&&"flexible-match-center"!=a.incompleteLastRow&&"match-center"!=a.incompleteLastRow||(e.spaceLeft&&0<e.spaceLeft?(e.container.css("ltr"==a.readingDirection?"margin-left":"margin-right",e.spaceLeft+"px"),e.spaceLeft=0):e.container.css("ltr"==a.readingDirection?"margin-left":"margin-right","")),"off"!=a.specialFx&&(0===(r=t.siblings(".jig-pixastic")).length&&"captions"==a.specialFx&&(r=t.siblings(".jig-cw-role-effect").find(".jig-pixastic")),b(r,t)),"below"==a.caption&&(0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?e.$captionWrapper.width((e.containerWidth||e.newWidth)-2*parseFloat(a.innerBorderWidth)):e.container.css({width:(e.containerWidth||e.newWidth)+"px"})),"off"!==a.caption&&"off"!==a.verticalCenterCaptions&&((r=e.container.find(".jig-cw-role-real").clone()).find(".jig-caption").css("display","block"),r.appendTo(e.linkElement).css({bottom:"auto",opacity:.01}).css("top",Math.round((e.containerHeight||e.newHeight)/2-r.height()/2)),t=r.css("top"),r.remove(),e.container.find(".jig-caption-wrapper").css({bottom:"auto"}).animate({top:t},a.animSpeed,"JIGeaseInOutQuad"))},x=function(t){void 0===t[a.linkTitleField]&&(t[a.linkTitleField]=""),void 0===t[a.imgAltField]&&(t[a.imgAltField]=""),void 0===t[a.titleField]&&(t[a.titleField]=""),void 0===t[a.captionField]&&(t[a.captionField]="");var i=t.off="";t.carousel_data?(t.carousel_data=" "+t.carousel_data+" ",i=" tiled-gallery-item"):t.carousel_data="",t.extra_class&&(i+=" "+t.extra_class);var r,o=t.url,n="",l="",s=a.hiddenLinkClass,d=t.link_target||"_self",c=a.linkRel,g=!0;if(""!==i&&(s=s.replace('jig-hiddenLink"',"jig-hiddenLink"+i+'"')),t.link&&(o=t.link,"video"!==d&&"videoplayer"!==d?(s="foobox"!==d?'target="'+d+'" '+s.replace("jig-link","jig-customLink jig-hiddenLink"):'target="'+d+'" '+s.replace("jig-link","jig-hiddenLink"),c=t.link_rel?'rel="'+t.link_rel+'"':""):"magnific"==a.lightbox&&-1==s.indexOf("mfp-")&&(s=s.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=d&&"foobox"!=d||-1===o.indexOf("&poster=")&&-1===o.indexOf("|poster=")||(g=!1)),!0===g&&("https%3A%2F%2F"===(o=(o+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===o.substr(0,13)))try{o=decodeURIComponent(o)}catch(t){}n=t[a.linkTitleField],l=t[a.imgAltField],t.download&&("yes"==a.downloadLink?n+=r=(0!==n.length?a.separatorCharacter:"")+t.download:"alt"==a.downloadLink&&(l+=r=(0!==l.length?a.separatorCharacter:"")+t.download)),t.lightbox_link&&("yes"==a.lightboxLink?n+=(0!==n.length?a.separatorCharacter:"")+t.lightbox_link:"alt"==a.lightboxLink&&(l+=(0!==l.length?a.separatorCharacter:"")+t.lightbox_link)),""!==n&&(n='title="'+n+'" '),""!==l&&(l='alt="'+l+'" '),g=a.linkAttribute,t.extra_class&&(g=g.replace("*content*",t.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1"))),o=e("<a "+s+c+g+n+(t.wh?'data-wh="'+t.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?o:"#")+'"/>'),l=e('<img class="jig-hiddenImg" '+l+t.carousel_data+"/>"),t.carousel_data&&t.download&&("yes"==a.downloadLink?(r=(0!==l.attr("data-image-title").length?a.separatorCharacter:"")+e("<textarea />").html(t.download).val(),l.attr("data-image-title",l.attr("data-image-title")+r)):"alt"==a.downloadLink&&(r=(0!==l.attr("data-image-description").length?"<br />":"")+e("<textarea />").html(t.download).val(),l.attr("data-image-description",l.attr("data-image-description")+r))),l.attr("src","data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D"),o.append(l),t.linkContainer=o,(void 0!==a.currentHiddenLink?e(a.currentHiddenLink):a.element.find(".jig-clearfix")).after(o),a.currentHiddenLink=o},b=function(t,i){i.off("load"),0!==t.length&&t.off("load").remove(),i.clone().addClass("jig-pixastic").insertAfter(i).on("load",I).each((function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth)&&e(this).trigger("load")}))},I=function(){if(!0!==e(this).hasClass("jig-specialfx-complete"))if(e(this).stop().css("display","block").css("opacity",1),""===a.specialFxOptions)switch(a.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,average:!1},k);break;case"blur":Pixastic.process(this,"blurfast",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.5},k);break;case"glow":Pixastic.process(this,"glow",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.3,radius:.2},k);break;case"sepia":Pixastic.process(this,"sepia",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio},k);break;case"laplace_dark":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,invert:!1,greyLevel:0},k);break;case"laplace_light":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,invert:!0,greyLevel:0},k)}else{var t=function(e){for(var t={},i=0,r=e.length;i<r;i+=1){var o=e[i].split(":");t[o[0]]=o[1]}return t.retinaReady=a.retinaReady,t.devicePixelRatio=a.devicePixelRatio,t}(a.specialFxOptions);switch(a.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",t,k);break;case"blur":Pixastic.process(this,"blurfast",t,k);break;case"glow":Pixastic.process(this,"glow",t,k);break;case"sepia":Pixastic.process(this,"sepia",k);break;case"laplace_dark":case"laplace_light":Pixastic.process(this,"laplace",t,k)}}e(this).off("load")},k=function(t,i){if(!1===t){var r=e(i);return r.siblings(".jig-cw-role-effect").remove(),void r.remove()}if(t=e(t),"hovered"===a.specialFx?t.css("opacity",a.hiddenOpacity):t.css("opacity",a.specialFxBlend),t.addClass("jig-specialfx-complete"),"captions"==a.specialFx){if(r=t.closest(".jig-imageContainer").find(".jig-cw-role-effect"),"no"==a.captionMatchWidth)t.appendTo(r);else try{var o=t[0].toDataURL("image/jpeg"),n=t.css("width")+" "+t.css("height");t.remove(),r.find(".jig-caption-title").css({"background-image":"url("+o+")","background-size":n}),r.find(".jig-caption-description").css({"background-image":"url("+o+")","background-size":n})}catch(i){a.captionMatchWidthForceNo=!0,(n=t.closest(".jig-imageContainer")).find(".jig-cw-role-effect .jig-caption").remove(),n.find(".jig-caption-title").css({display:"block"}),t.appendTo(r)}C(L(r))}},L=function(e,t){var i={};if(i.roleEffect=e.eq(0).closest(".jig-caption-wrapper"),0===i.roleEffect.length)return!1;if("no"==a.captionMatchWidth||a.captionMatchWidthForceNo)i.roleEffect.hasClass("jig-cw-role-effect")?i.roleReal=i.roleEffect.siblings(".jig-cw-role-real"):(i.roleReal=i.roleEffect,i.roleEffect=i.roleEffect.siblings(".jig-cw-role-effect")),t&&(i.fadeZeroHeight=t),i.captionElement=i.roleReal.find(".jig-caption");else{if(i.roleEffect=i.roleEffect.filter(".jig-cw-role-effect"),!i.roleEffect.hasClass("jig-cw-role-effect"))return!1;i.img=i.roleEffect.siblings("img"),i.captionTitle=i.roleEffect.find(".jig-caption-title"),i.captionDescription=i.roleEffect.find(".jig-caption-description")}return i},C=function(e){if(!1===e)return!1;var t,i,r,o;"no"==a.captionMatchWidth||a.captionMatchWidthForceNo?(o=e.roleReal.position(),0!==e.roleReal.height()?(e.roleEffect.css({height:e.captionElement.height()+"px"}).find(".jig-pixastic").css({top:-o.top+"px"}),e.fadeZeroHeight&&e.roleEffect.css({opacity:e.captionElement.css("opacity")})):e.roleEffect.find(".jig-pixastic").css({top:-o.top+"px"})):(t=e.roleEffect.position(),i=e.captionTitle.position(),r=e.captionDescription.position(),o=parseInt(e.img.css("margin-left"),10),i&&e.captionTitle.css({"background-position":o-i.left+"px "+-t.top+"px"}),r&&e.captionDescription.css({"background-position":o+"px "+(-r.top-t.top)+"px"}))},T=function(e){e.find(".jig-caption-wrapper").dotdotdot({watch:!0,keep:"br"})};a.errorChecked=!1;var R=function(){0<e(".jig-unloadable").length&&(a.errorChecked=!0,a.element.find(".jig-unloadable").remove(),r.createGallery("errorCheck"))},M=function(){"yes"!==a.suppressErrors&&("publicly"===a.suppressErrors&&!e("body").hasClass("logged-in")||a.element.html('<a href="https://justifiedgrid.com/support/fix/all-of-the-images-have-failed-to-load/" target="_blank" rel="external nofollow" style="border-style:none; text-decoration: none; font-weight: bold;"><div style="background-color: #212121; color: white; padding: 10px; display: inline-block;">JIG</div><div style="background-color: #b71c1c; color:white; color: rgba(255, 255, 255, 0.87); padding: 10px; display: inline-block;">All of the images have failed to load. Please click here to reach the troubleshooting fix.</div></a>'))};function W(e,t){return"hasOwnProperty"in e?e.hasOwnProperty(t):Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){return e=function(e,t){if(void 0===e)return"";var i=0,r=!1;void 0===t&&(t=2),e=e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var a={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===t&&(r=!0),"number"!=typeof t){for(var o=0,n=(t=[].concat(t)).length;o<n;o+=1)0===a[t[o]]?r=!0:a[t[o]]&&(i|=a[t[o]]);t=i}return t&a.ENT_HTML_QUOTE_SINGLE&&(e=e.replace(/&#0*39;/g,"'")),(e=r?e:e.replace(/&quot;/g,'"')).replace(/&amp;/g,"&")}(e),"below"==a.caption?e:(t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,i){return-1<t.indexOf("<"+i.toLowerCase()+">")?e:""})))}function F(e){void 0!==e&&e.stopPropagation();var t=a.element.find(".jig-overflow > a.jig-loaded").length;e=a.element.find(".jig-imageContainer .jig-overflow > a").length,"no"==a.errorChecking&&(e-=5),void 0!==a.loadCheckTimeout&&clearTimeout(a.loadCheckTimeout),t<e?(a.loadCheckTimeout=setTimeout((function(){F()}),500),a.loadMoreButton.animate({opacity:.5},300,"JIGswing")):(a.loadMoreButton.animate({opacity:1},300,"JIGswing"),a.limit+=a.originalLimit,a.loadMoreCounter++,"once"==a.loadMore&&(a.limit=a.allItems.length),r.createGallery())}r.init()},e.fn.justifiedImageGrid=function(t){return this.each((function(){var i;void 0===e(this).data("justifiedImageGrid")&&(i=new e.justifiedImageGrid(this,t),e(this).data("justifiedImageGrid",i))}))},e.extend(e.easing,{JIGswing:function(e){return.5-Math.cos(e*Math.PI)/2},JIGeaseInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}}),e.fn.JIGhoverFlow=function(t,i,r,a,o){if(-1==e.inArray(t,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var n="object"==typeof r?r:{complete:o||!o&&a||"function"==typeof r&&r,duration:r,easing:o&&a||a&&"function"!=typeof a&&a};void 0===n.easing&&(n.easing="JIGswing"),n.queue=!1;var l=n.complete;return n.complete=function(){e(this).dequeue(),"function"==typeof l&&l.call(this)},this.each((function(){var r=e(this);"mouseover"==t||"mouseenter"==t?r.data("jQuery.JIGhoverFlow",!0):r.removeData("jQuery.JIGhoverFlow"),r.queue((function(){("mouseover"==t||"mouseenter"==t?void 0!==r.data("jQuery.JIGhoverFlow"):void 0===r.data("jQuery.JIGhoverFlow"))?r.animate(i,n):r.queue([])}))}))},function(e){"use strict";function t(e,t){return e-t}function i(e){return 4===e.length&&(e=e.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3")),e=/(\w{2})(\w{2})(\w{2})/.exec(e),[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}e.fn.tagcloud=function(r){var a,o,n,l,s=e.extend({},e.fn.tagcloud.defaults,r),d=(r=this.map((function(){return e(this).attr("rel")})),(r=jQuery.makeArray(r).sort(t))[0]);return 0==(r=r.pop()-d)&&(r=1),s.size&&(a=(s.size.end-s.size.start)/r),s.color&&(n=s.color,l=r,o=jQuery.map(i(n.end),(function(e,t){return(e-i(n.start)[t])/l}))),this.each((function(){var t,r,n,l=e(this).attr("rel")-d;s.size&&e(this).css({"font-size":s.size.start+l*a+s.size.unit}),s.color&&e(this).css({color:(t=s.color,r=o,n=l,t=jQuery.map(i(t.start),(function(e,t){return 255<(t=Math.round(e+r[t]*n))?t=255:t<0&&(t=0),t})),"#"+jQuery.map(t,(function(e){return 1===(e=e.toString(16)).length?"0"+e:e})).join(""))})}))},e.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}}}(jQuery),e.JIGjQueryMinVersion=function(t,i){if(t){var r=e().jquery,a=(t=t.split("."),r=r.split("."),[]),o=[],n=!1;a[0]=isNaN(parseInt(t[0],10))?0:parseInt(t[0],10),a[1]=isNaN(parseInt(t[1],10))?0:parseInt(t[1],10),a[2]=isNaN(parseInt(t[2],10))?0:parseInt(t[2],10),a[3]=isNaN(parseInt(t[3],10))?0:parseInt(t[3],10),o[0]=isNaN(parseInt(r[0],10))?0:parseInt(r[0],10),o[1]=isNaN(parseInt(r[1],10))?0:parseInt(r[1],10),o[2]=isNaN(parseInt(r[2],10))?0:parseInt(r[2],10),o[3]=isNaN(parseInt(r[3],10))?0:parseInt(r[3],10);for(var l=0;l<4;l++){if(!(a[l]<=o[l])){n=!1;break}if(n=!0,a[l]!=o[l])break}if(!0===n)return!0;if(!0!==i)return!1;e(".justified-image-grid").html('<span style="color:red;font-weight:bold">Your jQuery version ('+e().jquery+") is old, this plugin needs at least 1.7, please go to the plugin settings and choose another jQuery source. If this does not work then your theme or a plugin is not using WordPress best practices and forces the loading of an old version. In that case contact the author of Justified Image Grid.</span>")}return!1}}loadJustifiedImageGrid(jQuery);