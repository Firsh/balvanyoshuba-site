/*!
 * @preserve
 * Plugin Name: Justified Image Grid
 * Plugin URI: https://justifiedgrid.com
 * Version: 4.1.2b
 * Description: Create beautiful photo grids from sources you already use.
 * Copyright (c) 2020 Published by Belcovio. Developed by Firsh.
 */
function loadJustifiedImageGrid(V){V.justifiedImageGrid=function(e,t){var e={targetHeight:190,heightDeviation:40,aspectRatio:"",disableCropping:"",randomizeWidth:"",margins:4,animSpeed:300,limit:0,initiallyLoad:"",maxRows:"",linkClass:"",linkRel:"jig[*instance*]",linkAttributeName:"",linkAttributeValue:"",linkAttribute:"",linkTitleField:"description",imgAltField:"title",wrapText:"no",readingDirection:"ltr",loadMore:"off",loadMoreText:"Load more",loadMoreCountText:"(*count* images remaining)",loadMoreOffset:100,loadMoreAutoWidth:"on",disableHover:"no",downloadLink:"no",lightboxLink:"no",verticalCenterCaptions:"off",customFonts:"yes",captionHeight:54,quality:90,retinaReady:"yes",retinaQuality:"auto",minRetinaQuality:30,maxRetinaDensity:3,caption:"fade",captionMatchWidth:"no",captionMatchWidthForceNo:!1,titleField:"title",captionField:"description",lightbox:"prettyphoto",lightboxInit:"jigAddLightbox1",overlay:"hovered",overlayIcon:"off",bordersTotal:0,innerBorder:"always",innerBorderWidth:0,innerBorderAnimate:"width",middleBorder:"always",middleBorderWidth:0,middleBorderColor:"white",outerBorder:"always",outerBorderColor:"black",specialFx:"off",specialFxType:"desaturate",specialFxOptions:"",specialFxBlend:1,incompleteLastRow:"normal",errorChecking:"yes",suppressErrors:"no",retryCount:0,resizeCount:0,errorChecked:!1,errorImages:[],filters:!1,filterMultiple:"no",filterStyle:"buttons",L2filters:!1,L2FilterMultiple:"no",L2FilterStyle:"buttons",filterSmallestColor:"#A3A3A3",filterSmallestSize:11,filterLargestColor:"#000000",filterLargestSize:22,separatorCharacter:" - ",thumbnailFilename:"normal",cropZone:"",instance:1,element:V(e),lastWindowWidth:V(window).width()},_=this,z=V.extend({},e,t),E="object"==typeof V.support&&"opacity"in V.support&&!V.support.opacity,O="",s=!!window.chrome&&!/opera|opr/i.test(navigator.userAgent);this.s=z;try{O=0<window.navigator.userAgent.indexOf("MSIE ")||!!navigator.userAgent.match(/Trident.*rv\:11\./),"Netscape"==navigator.appName&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge")&&(O=!0)}catch(e){O=!1}var D=!1;"ontouchstart"in document.documentElement&&(D=!0),_.init=function(){if(z.originalTargetHeight=z.targetHeight,z.minHeight=z.originalMinHeight=z.targetHeight-z.heightDeviation,z.maxHeight=z.originalMaxHeight=z.targetHeight+z.heightDeviation,z.prevScreenHeightLimitRatio=-1,z.defaultHeightRatio=z.originalDefaultHeightRatio=z.targetHeight/z.maxHeight,z.originalLimit=z.limit,z.hiddenOpacity=E?.01:0,O&&z.element.addClass("jig-ua-ie"),E&&z.element.addClass("jig-ua-old-ie"),!1===D?z.element.addClass("jig-no-touch"):z.element.addClass("jig-touch"),"no"!==z.lightbox&&"links-off"!==z.lightbox&&"new_tab"!==z.lightbox)if(z.hiddenLinkClass=""!==z.linkClass?'class="jig-link jig-hiddenLink '+z.linkClass+'" ':'class="jig-link jig-hiddenLink" ',z.linkClass=""!==z.linkClass?'class="jig-link '+z.linkClass+'" ':'class="jig-link" ',-1!==z.linkRel.indexOf("*instance*"))z.linkRel='rel="'+z.linkRel.replace("*instance*",z.instance)+'" ';else if(-1!==z.linkRel.indexOf("auto"))switch(z.lightbox){case"prettyphoto":z.linkRel='rel="'+z.linkRel.replace("auto","prettyPhoto["+z.instance+"]")+'" ';break;case"colorbox":z.linkRel='rel="'+z.linkRel.replace("auto","colorBox["+z.instance+"]")+'" ';break;default:z.linkRel='rel="'+z.linkRel.replace("auto","gallery["+z.instance+"]")+'" '}else z.linkRel='rel="'+z.linkRel+'" ';else z.linkClass="",z.hiddenLinkClass="",z.linkRel="";var t,i,r,a;function e(){return!1}""!==z.linkAttributeName&&(""!==z.linkAttributeValue?z.linkAttribute=" "+z.linkAttributeName+'="'+z.linkAttributeValue+'"':z.linkAttribute=" "+z.linkAttributeName+'=""'),z.allItems=z.selectedItems=z.items.slice(),z.aspectRatio&&(z.maxWidth=Math.floor(z.maxHeight*parseFloat(z.aspectRatio)),"normal"==z.incompleteLastRow&&(z.incompleteLastRow="match","off"!==z.loadMore&&(z.incompleteLastRow="flexible-match"))),"yes"==z.retinaReady&&(void 0===window.devicePixelRatio||1==window.devicePixelRatio?(z.retinaReady="no",z.devicePixelRatio=1):window.devicePixelRatio>z.maxRetinaDensity?z.devicePixelRatio=z.maxRetinaDensity:z.devicePixelRatio=window.devicePixelRatio),"yes"==z.retinaReady&&("auto"==z.retinaQuality?(z.quality=Math.ceil(z.quality/z.devicePixelRatio),z.quality=z.quality>z.minRetinaQuality?z.quality:z.minRetinaQuality):z.quality=z.retinaQuality),"yes"==z.disableCropping&&(z.minHeight=z.originalMinHeight=50),"captions"==z.specialFx&&"below"==z.caption&&(z.specialFx="off"),"yes"!=z.customFonts||"off"===z.caption||"below"!=z.caption&&"off"===z.verticalCenterCaptions&&"captions"!=z.specialFx||0===(t=V("body").find(".jig-fontCheck")).length&&(V("body").append('<div class="jig-fontCheck">!"\'\\#$%&amp;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~ A quick brown fox jumps over the lazy dog.</div>'),i=(t=V("body").find(".jig-fontCheck")).width(),r=0,a=setInterval(function(){r++;var e=t.width();i!=e&&0!==e?(V("body").trigger("jig-fontLoaded"),t.remove(),clearInterval(a)):50<r&&(t.remove(),clearInterval(a))},100));var o,n,l,s,d=e,c=e,g=e,f=e,h=e,p=e,u=e,m=e,w=e,v=e,j=e,y=e,x=function(e,t,i,r){var a;"captions"!==z.specialFx||".jig-caption-wrapper .jig-caption"!==t?e.find(t).JIGhoverFlow(i,{opacity:r},z.animSpeed):(t=e.find(t),a=J(t,!0),t.JIGhoverFlow(i,{opacity:r},{duration:z.animSpeed,progress:function(){0!==V(this).closest(".jig-cw-role-real").length&&q(a)}}))},b=function(e,t,i,r){var a;"captions"!==z.specialFx?e.find(t).JIGhoverFlow(i,{height:r},z.animSpeed,"JIGeaseInOutQuad"):(t=e.find(t),a=J(t),t.JIGhoverFlow(i,{height:r},{duration:z.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){0!==V(this).closest(".jig-cw-role-real").length&&q(a)}}))},I=function(i,e,t,r){var a,o,n;"captions"!==z.specialFx?i.find(e).JIGhoverFlow(t,{height:r},{duration:z.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var e=i.find(".jig-caption-wrapper"),t=i.parent();e.css("top",Math.round(t.height()/2-e.height()/2))}}):(a=i.find(e),o=J(a),n=a.closest(".jig-caption"),i.find(e).JIGhoverFlow(t,{height:r},{duration:z.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var e=i.find(".jig-caption-wrapper"),t=i.parent();e.css("top",Math.round(t.height()/2-n.height()/2)),0!==V(this).closest(".jig-cw-role-real").length&&q(o)},complete:function(){"slide"!=z.caption&&"reverse-slide"!=z.caption||"hide"!=r||i.find(".jig-cw-role-effect").height(.01)}}))},k=function(e,t,i,r){e.find(t).JIGhoverFlow(i,{opacity:r},z.animSpeed)},L=function(e,t,i,r){e.find(t).JIGhoverFlow(i,{borderLeftWidth:r,borderTopWidth:r,borderRightWidth:r,borderBottomWidth:r},z.animSpeed)};switch(z.overlay){case"hovered":c="on"===z.overlayIcon?(d=function(e){x(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","show")},function(e){x(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","hide")}):(d=function(e){x(e,"div.jig-overlay-wrapper","mouseenter","show")},function(e){x(e,"div.jig-overlay-wrapper","mouseleave","hide")});break;case"others":c="on"===z.overlayIcon?(d=function(e){x(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","hide")},function(e){x(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","show")}):(d=function(e){x(e,"div.jig-overlay-wrapper","mouseenter","hide")},function(e){x(e,"div.jig-overlay-wrapper","mouseleave","show")})}switch(z.innerBorder){case"hovered":switch(z.innerBorderAnimate){case"width":u=function(e){L(e,"div.jig-border","mouseenter",z.innerBorderWidth+"px")},m=function(e){L(e,"div.jig-border","mouseleave",0)};break;case"opacity":u=function(e){x(e,"div.jig-border","mouseenter","show")},m=function(e){x(e,"div.jig-border","mouseleave","hide")};break;case"off":u=function(e){V(e).find("div.jig-border").show()},m=function(e){V(e).find("div.jig-border").hide()}}break;case"others":switch(z.innerBorderAnimate){case"width":u=function(e){L(e,"div.jig-border","mouseenter",0)},m=function(e){L(e,"div.jig-border","mouseleave",z.innerBorderWidth+"px")};break;case"opacity":u=function(e){x(e,"div.jig-border","mouseenter","hide")},m=function(e){x(e,"div.jig-border","mouseleave","show")};break;case"off":u=function(e){V(e).find("div.jig-border").hide()},m=function(e){V(e).find("div.jig-border").show()}}}switch(z.middleBorder){case"hovered":w=function(e){V(e).parent().parent("div.jig-imageContainer").css("background",z.middleBorderColor)},v=function(e){V(e).parent().parent("div.jig-imageContainer").css("background","transparent")};break;case"others":w=function(e){V(e).parent().parent("div.jig-imageContainer").css("background","transparent")},v=function(e){V(e).parent().parent("div.jig-imageContainer").css("background",z.middleBorderColor)}}switch(z.outerBorder){case"hovered":j=function(e){V(e).parent().parent("div.jig-imageContainer").css("border-color",z.outerBorderColor)},y=function(e){V(e).parent().parent("div.jig-imageContainer").css("border-color","transparent")};break;case"others":j=function(e){V(e).parent().parent("div.jig-imageContainer").css("border-color","transparent")},y=function(e){V(e).parent().parent("div.jig-imageContainer").css("border-color",z.outerBorderColor)}}if(E)switch(z.specialFx){case"others":g=function(e){k(e,".jig-pixastic","mouseleave",.01)},f=function(e){k(e,".jig-pixastic","mouseleave",z.specialFxBlend)};break;case"hovered":g=function(e){k(e,".jig-pixastic","mouseenter",z.specialFxBlend)},f=function(e){k(e,".jig-pixastic","mouseleave",.01)}}else switch(z.specialFx){case"others":g=function(e){k(e,".jig-pixastic","mouseenter",.01)},f=function(e){k(e,".jig-pixastic","mouseleave",z.specialFxBlend)};break;case"hovered":g=function(e){k(e,".jig-pixastic","mouseenter",z.specialFxBlend)},f=function(e){k(e,".jig-pixastic","mouseleave",.01)}}switch(z.caption){case"fade":h=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},p=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")};break;case"reverse-fade":h=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},p=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseleave","show")};break;case"slide":p=E?(h=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){x(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):"off"==z.verticalCenterCaptions||"simple"==z.verticalCenterCaptions?(h=function(e){b(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){b(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):(h=function(e){I(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){I(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")});break;case"reverse-slide":p=E?(h=function(e){x(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){x(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):"off"==z.verticalCenterCaptions||"simple"==z.verticalCenterCaptions?(h=function(e){b(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){b(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):(h=function(e){I(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){I(e,".jig-caption-wrapper .jig-caption","mouseleave","show")});break;case"mixed":p="off"==z.verticalCenterCaptions||"simple"==z.verticalCenterCaptions?(h=function(e){b(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){b(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")}):(h=function(e){I(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){I(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")});break;case"reverse-mixed":p="off"==z.verticalCenterCaptions||"simple"==z.verticalCenterCaptions?(h=function(e){b(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){b(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")}):(h=function(e){I(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){I(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")})}if("yes"!==z.disableHover&&(z.element.on("mouseenter mouseleave","a",function(e){var t=V(this);"none"!==t.css("display")&&(e.stopImmediatePropagation(),"mouseenter"===e.type?(d(t),g(t),h(t),u(t),w(t),j(t),t.data("title",t.attr("title")),t.removeAttr("title")):(c(t),f(t),p(t),m(t),v(t),y(t),t.attr("title",t.data("title"))))}),z.element.on("mousedown","a",function(e){V(this).attr("title",V(this).data("title"))})),V("body").one("jig-fontLoaded",N),"off"!==z.loadMore&&(z.loadMoreCounter=0,"carousel"==z.lightbox&&z.element.on("click",function(e){V(e.target).hasClass("justified-image-grid")&&(e.stopPropagation(),e.preventDefault())}),z.element.on("click",".jig-loadMoreButton",$)),"prettyphoto"==z.lightbox&&"undefined"!=typeof jigOtherPrettyPhotoIsPresent&&V(document).ready(function(){setTimeout(function(){window[z.lightboxInit]()},10)}),z.filters||z.L2filters){if(z.filteredImages=[],z.filters){z.filterMultiple=z.filterMultiple||"no",z.filterStyle=z.filterStyle||"buttons";var C="buttons"==z.filterStyle?(z.filterType="Button","div"):(z.filterType="Tag","span"),T='<div id="jig'+z.instance+"-filter"+z.filterType+'s" class="jig-filter'+z.filterType+"s "+("no"!==z.filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(D?"jig-touch ":"jig-no-touch ")+(O?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="1">';for(o in z.filters)U(z.filters,o)&&(z.filteredImages[o]=[],T+="<"+C+' class="jig-filter'+z.filterType+'" data-filter-slug="'+o+'">'+z.filters[o]+"</"+C+">");z.element.before(T+="</div>"),void 0!==z.filteredImages["all-items-nofilter"]&&(z.filteredImages["all-items-nofilter"]=z.selectedItems.slice());for(var R=0,M=z.selectedItems.length;R<M;R+=1)if(z.selectedItems[R].filters)for(var W=0,H=z.selectedItems[R].filters.length;W<H;W+=1)void 0!==z.filteredImages[z.selectedItems[R].filters[W][0]]&&"function"==typeof z.filteredImages[z.selectedItems[R].filters[W][0]].push&&z.filteredImages[z.selectedItems[R].filters[W][0]].push(z.selectedItems[R]);var F=V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType+'[data-filter-slug="all-items-nofilter"]');if(0<F.length&&V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType).first().attr("data-filter-slug")!==F.attr("data-filter-slug")&&F.parent().prepend(F),"tags"==z.filterStyle){for(o in z.filters)U(z.filters,o)&&V("#jig"+z.instance+"-filter"+z.filterType+'s .jig-filterTag[data-filter-slug="'+o+'"]').attr("rel",z.filteredImages[o].length);V.fn.tagcloud.defaults={size:{start:z.filterSmallestSize,end:z.filterLargestSize,unit:"px"},color:{start:z.filterSmallestColor,end:z.filterLargestColor}},0<F.length?(F.css({"font-size":z.filterLargestSize,color:z.filterLargestColor}),V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType).slice(1).tagcloud()):V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType).tagcloud()}V("#jig"+z.instance+"-filter"+z.filterType+"s").on("click",".jig-filter"+z.filterType,Q)}if(z.L2filters){z.L2filterMultiple=z.L2filterMultiple||"no",z.L2filterStyle=z.L2filterStyle||"buttons",n="buttons"==z.L2filterStyle?(z.L2filterType="Button","div"):(z.L2filterType="Tag","span"),z.L2filteredImages=[];var S='<div id="jig'+z.instance+"-L2filter"+z.L2filterType+'s" class="jig-filter'+z.L2filterType+"s "+("no"!==z.L2filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(D?"jig-touch ":"jig-no-touch ")+(O?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="2">';for(l in z.L2filters)U(z.L2filters,l)&&(z.L2filteredImages[l]=[],S+="<"+n+' class="jig-filter'+z.L2filterType+'" data-filter-slug="'+l+'">'+z.L2filters[l]+"</"+n+">");z.element.before(S+="</div>"),void 0!==z.L2filteredImages["all-items-nofilter"]&&(z.L2filteredImages["all-items-nofilter"]=z.selectedItems.slice());for(var A=0,B=z.selectedItems.length;A<B;A+=1)if(z.selectedItems[A].L2filters)for(var G=0,P=z.selectedItems[A].L2filters.length;G<P;G+=1)void 0!==z.L2filteredImages[z.selectedItems[A].L2filters[G][0]]&&"function"==typeof z.L2filteredImages[z.selectedItems[A].L2filters[G][0]].push&&z.L2filteredImages[z.selectedItems[A].L2filters[G][0]].push(z.selectedItems[A]);if(0<(F=V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType+'[data-filter-slug="all-items-nofilter"]')).length&&V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).first().attr("data-filter-slug")!==F.attr("data-filter-slug")&&F.parent().prepend(F),"tags"==z.L2filterStyle){for(l in z.L2filters)U(z.L2filters,l)&&V("#jig"+z.instance+"-L2filter"+z.L2filterType+'s .jig-filterTag[data-filter-slug="'+l+'"]').attr("rel",z.L2filteredImages[l].length);V.fn.tagcloud.defaults={size:{start:z.filterSmallestSize,end:z.filterLargestSize,unit:"px"},color:{start:z.filterSmallestColor,end:z.filterLargestColor}},0<F.length?(F.css({"font-size":z.filterLargestSize,color:z.filterLargestColor}),V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).slice(1).tagcloud()):V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).tagcloud()}V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s").on("click",".jig-filter"+z.L2filterType,Q)}Q()}else _.createGallery();z.element.trigger("jig-created"),V(window).resize(function(){void 0!==s&&clearTimeout(s),s=setTimeout(function(){_.createGallery("resize"),z.element.trigger("jig-resized")},100)})},_.createGallery=function(e){if(!1===V.JIGjQueryMinVersion("1.7"))return JIGjQueryMinVersion("1.7",!0),!1;var a,t=Math.round(z.element.width()),o=V(window).width();if(void 0===z.fixedWidth?(z.element.css("width","").css("width",Math.round(z.element.width())),0===z.element.width()?void 0===z.fallbackWidth?0!==t&&o==z.lastWindowWidth?z.element.css("width",t+"px"):(a=0,z.element.parents().each(function(e,t){var i=V(t),r=V(t).parent(),t=i.width();if(i.is(":visible")&&0!==t)return z.element.css("width",t-a+"px"),void 0===r.data("jigAddedTabsHandler")&&(r.on("click",function(e){o!==V(window).width()&&r.find(".justified-image-grid").each(function(){var e=V(this);e.is(":visible")&&e.data("justifiedImageGrid").createGallery("resize")})}),r.data("jigAddedTabsHandler",!0)),!1;a+=i.outerWidth(!0)-i.width()})):z.element.css("width",z.fallbackWidth+"px"):1e4<z.element.width()&&(z.element.css("width",o),V(window).on("load",function(){_.createGallery("resize")}))):z.element.css("width","").css("width",z.fixedWidth),(t=Math.round(z.element.width()))<9)return 10<z.retryCount?void z.element.find(".jig-clearfix").html("The element is invisible or too thin, upon page loading. In case of using tabs, try a Custom width in the General settings and you may also use a fixed width. (Justified Image Grid)"):void(z.retryBuilding=setTimeout(function(){z.retryCount++,_.createGallery()},100));if(z.retryBuilding&&clearTimeout(z.retryBuilding),z.element.find(".jig-clearfix").empty(),z.justResized=!1,"resize"===e){if(z.areaWidth&&z.areaWidth==t)return;z.justResized=!0}if(z.element.find(".jig-overflow a *:not(div)").off(),z.areaWidth=t,z.row=[],z.fullWidth=z.extra=0,z.rows=[],z.unshifts=[],z.screenHeight=V(window).height(),z.screenHeightLimitRatio=Math.min(z.screenHeight/z.originalMaxHeight,1),z.prevScreenHeightLimitRatio!==z.screenHeightLimitRatio){if(z.screenHeightLimitRatio<1?(z.maxHeight=z.screenHeight,z.targetHeight=Math.round(z.maxHeight-z.heightDeviation*z.screenHeightLimitRatio),z.minHeight=50!=z.minHeight?Math.round(z.targetHeight-z.heightDeviation*z.screenHeightLimitRatio):50,z.defaultHeightRatio=z.targetHeight/z.maxHeight):(z.maxHeight=z.originalMaxHeight,z.targetHeight=z.originalTargetHeight,z.minHeight=z.originalMinHeight,z.defaultHeightRatio=z.originalDefaultHeightRatio),-1!=z.prevScreenHeightLimitRatio||1!=z.screenHeightLimitRatio)for(var i in z.selectedItems)U(z.selectedItems,i)&&(void 0===z.selectedItems[i].originalWidth&&(z.selectedItems[i].originalWidth=z.selectedItems[i].width),z.selectedItems[i].width=Math.round(z.selectedItems[i].originalWidth*z.screenHeightLimitRatio));z.prevScreenHeightLimitRatio=z.screenHeightLimitRatio}if(z.items=z.selectedItems.slice(),!0===z.errorChecked&&!1===z.justResized){for(var r in z.items)if(U(z.items,r)&&-1!=V.inArray(void 0===z.items[r].photon?void 0===z.items[r].thumbUrl?z.items[r].url:z.items[r].thumbUrl:z.items[r].photon,z.errorImages)){var n=z.items[r];if(z.items.splice(r,1),z.filters){r=V("#jig"+z.instance+"-filterButtons .jig-filterButtonSelected").attr("data-filter-slug"),z.filteredImages[r]=z.items.slice();for(var l=1,s=z.filters.length;l<s;l+=1)for(var d=0,c=z.filteredImages[z.filters[l][0]].length;d<c;d+=1){var g=V.inArray(n,z.filteredImages[z.filters[l][0]]);-1!=g&&z.filteredImages[z.filters[l][0]].splice(g,1)}}}if(z.selectedItems=z.items.slice(),z.errorImages=[],0===z.selectedItems.length)return void R();z.errorChecked=!1}for(""!==z.maxRows&&0!==z.maxRows||(z.maxRows=1e3),z.rowcount=0,z.imagesShown=0,""!==z.initiallyLoad&&"off"!==z.loadMore&&0===z.loadMoreCounter&&(z.limit=parseInt(z.initiallyLoad,10)),0!==z.limit&&z.limit<z.selectedItems.length?z.whileUntil=z.items.length-z.limit:z.whileUntil=0;z.items.length>z.whileUntil&&z.rowcount<z.maxRows;){var f=b();!1!==f&&(z.rows.push(f),z.rowcount++)}z.imagesShown+=z.selectedItems.length-z.items.length,z.element.find(".jig-imageContainer").slice(z.imagesShown).remove(),z.imagesAlreadyAdded=z.element.find(".jig-imageContainer").length;for(var h,p,u,m=0,w=0,v=z.rows.length;w<v;w+=1)for(var j=0,y=z.rows[w].length;j<y;j+=1)m++,((h=z.rows[w][j]).container&&m<=z.imagesAlreadyAdded?k:I)(h,z.rows[w].length,j);if("links-off"!==z.lightbox&&"no"!==z.lightbox&&"new_tab"!==z.lightbox&&""!==z.linkrel){for(;0<z.unshifts.length;)void 0===(h=z.unshifts.shift()).linkContainer?L(h):z.currentHiddenLink=h.linkContainer;for(;0<z.items.length;)void 0===(h=z.items.shift()).linkContainer?L(h):z.currentHiddenLink=h.linkContainer;z.currentHiddenLink=void 0}if(void 0===z.fixedWidth&&(z.element.css("width","").css("width",Math.round(z.element.width())),0===z.element.width()&&z.element.css("width",z.areaWidth+"px")),V("img",z.element).not(".jig-hiddenImg").on("load",function(){var e,t;this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState)||E?(e=V(this).closest("a"),t=V(this).closest(".jig-overflow"),0!==e.length&&!0!==e.hasClass("jig-loaded")&&(e.addClass("jig-loaded"),"0"===t.css("opacity")&&t.css("opacity",1),"off"!=z.specialFx&&V(this).clone().addClass("jig-pixastic").insertAfter(V(this)).on("load",C).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&V(this).trigger("load")})),V(this).off("load")):"yes"==z.errorChecking&&(null!==(t=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(V(this).attr("src")))?void 0!==t[1]?z.errorImages.push(t[1]):void 0!==t[2]&&z.errorImages.push(t[2]):z.errorImages.push(V(this).attr("src")),V(this).closest(".jig-imageContainer").addClass("jig-unloadable"),T())}).on("error",function(){var e;"yes"==z.errorChecking&&(null!==(e=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(V(this).attr("src")))?void 0!==e[1]?z.errorImages.push(e[1]):void 0!==e[2]&&z.errorImages.push(e[2]):z.errorImages.push(V(this).attr("src")),V(this).closest(".jig-imageContainer").addClass("jig-unloadable"),T())}).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&V(this).trigger("load")}),"resize"!==e?x():"prettyphoto"==z.lightbox&&"undefined"!=typeof jigReCallPrettyPhotoAfterPossibleResize?setTimeout(function(){window[z.lightboxInit](),jigReCallPrettyPhotoAfterPossibleResize=void 0},10):z.visibleImageCount!=V(".jig-imageContainer",z.element).length&&x(),"click"!=z.loadMore&&"scroll"!=z.loadMore&&"hybrid"!=z.loadMore&&"once"!=z.loadMore||(z.loadMoreButton=z.element.find(".jig-loadMoreButton"),t=z.selectedItems.length-z.limit,e=z.element.find(".jig-hiddenLink").length,1==z.loadMoreButton.length?0<t?(z.loadMoreButton.find(".jig-loadMoreButton-count").text(0!==e?e:t),"yes"===z.loadMoreAutoWidth&&z.loadMoreButton.css("width",z.loadMoreButton.find(".jig-loadMoreButton-inner").width())):z.loadMoreButton.remove():0<t&&(p="",z.loadMoreCountText&&"none"!==z.loadMoreCountText&&(p=(p=z.loadMoreCountText).replace("*count*",'<span class="jig-loadMoreButton-count">'+(0!==e?e:t)+"</span>")),z.loadMoreButton=V('<div class="jig-loadMoreButton"><span class="jig-loadMoreButton-inner">'+z.loadMoreText+(""!==p?"<br />"+p:"")+"</span></div>"),z.element.find(".jig-clearfix").after(z.loadMoreButton),"yes"===z.loadMoreAutoWidth&&z.loadMoreButton.css("width",z.loadMoreButton.find(".jig-loadMoreButton-inner").width())),"scroll"!=z.loadMore&&"hybrid"!=z.loadMore||V(window).scroll(function(){var e;("scroll"==z.loadMore||"hybrid"==z.loadMore&&0<z.loadMoreCounter)&&0<z.selectedItems.length-z.limit&&(e=z.element.find(".jig-loadMoreButton").offset(),V(window).scrollTop()>=e.top-parseInt(z.loadMoreOffset,10)-V(window).height()&&$())})),"no"!==z.wrapText&&(p=z.element.find(".jig-imageContainer").last(),0===z.element.find(".jig-flowSpacer").length&&z.element.find(".jig-imageContainer").last().after('<div class="jig-flowSpacer"></div>'),u=z.element.find(".jig-flowSpacer").css({width:"1px",height:p.height()+3,float:"ltr"==z.readingDirection?"left":"right"}),setTimeout(function(){"ltr"==z.readingDirection?z.element.offset().left==u.offset().left?u.css("margin-right",0):u.css("margin-right",2*z.margins):z.element.offset().left==u.offset().left?u.css("margin-left",0):u.css("margin-left",2*z.margins)},1)),"yes"!=z.customFonts||"off"===z.caption||"below"!=z.caption&&"off"===z.verticalCenterCaptions&&"captions"!=z.specialFx||N(!0),z.prevInstanceID="#jig"+(z.instance-1),V(window).width()!=o||z.areaWidth!=Math.round(z.element.width()))return z.resizeCount++,1<z.resizeCount&&z.element.css("min-height",z.element.height()),_.createGallery("resize"),1<z.instance&&0!==V(z.prevInstanceID).length&&V(z.prevInstanceID).data("justifiedImageGrid").createGallery("resize"),void z.element.css("min-height","");1<z.instance&&0!==V(z.prevInstanceID).length&&(z.prevInstanceData=V(z.prevInstanceID).data("justifiedImageGrid"),z.prevInstanceData.s.element.css("width","").css("width",z.prevInstanceData.s.element.width()),z.prevInstanceData.s.areaWidth!=z.prevInstanceData.s.element.width()&&z.prevInstanceData.createGallery("resize")),z.resizeCount=0,z.lastWindowWidth=o,z.visibleImageCount=V(".jig-imageContainer",z.element).length};var N=function(l){!0!==l&&(l="captions"==z.specialFx),z.element.find(".jig-imageContainer").each(function(e,t){var i,r,a,o,n,t=V(t);"off"!==z.verticalCenterCaptions&&(r=(i=t.find(".jig-caption-wrapper")).filter(".jig-cw-role-real"),a=r.height(),o=r.find(".jig-caption"),n=("mixed"==z.caption||"reverse-mixed"==z.caption)&&r.find(".jig-caption-description-wrapper"),"slide"!=z.caption&&"reverse-slide"!=z.caption||!o.is(":animated")?"mixed"!=z.caption&&"reverse-mixed"!=z.caption||!n.is(":animated")?(0===a&&(o.css({opacity:0,display:"block"}),a=r.height(),o.removeAttr("style")),!0===l?i.css({bottom:"auto",top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)}):i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},z.animSpeed,"JIGeaseInOutQuad")):n.promise().done(function(){a=r.height();var e=n.height();"mixed"==z.caption&&0!==e?(n.css({display:"none"}),a=r.height(),n.css({display:"block"})):"reverse-mixed"==z.caption&&0===e&&(n.css({display:"block"}),a=r.height(),n.css({display:"none"})),i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},z.animSpeed,"JIGeaseInOutQuad")}):o.promise().done(function(){0===(a=r.height())&&(o.css({opacity:0,display:"block"}),a=r.height(),o.removeAttr("style")),i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},z.animSpeed,"JIGeaseInOutQuad")})),"below"==z.caption&&w(t,!0),"captions"==z.specialFx&&(s&&"no"!==z.captionMatchWidth&&t.find(".jig-caption-title, .jig-caption-wrapper").each(function(){var e=V(this),t=e.css("width","")[0].getBoundingClientRect().width;t%2!=0&&(t=Math.ceil(t),e.css({width:t%2!=0?t+1:t}))}),i=i||t.find(".jig-caption-wrapper"),q(J(i)))})},x=function(){switch(z.lightbox){case"prettyphoto":case"colorbox":case"magnific":case"photoswipe":case"photoswipe3":case"foobox":case"custom":window[z.lightboxInit]();break;case"links-off":z.element.find("a").css("cursor","default"),z.element.on("click","a",function(e){e.preventDefault()}),V(z.element).on("click","a",function(e){2===e.which&&e.preventDefault()})}},Q=function(e){var t,i,r=V(this),a=r.attr("data-filter-slug"),o=!1;if(void 0===e&&(a=(r=(!1!==z.filters?V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType):V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType)).first()).attr("data-filter-slug")),1==(g=r.parent().attr("data-filter-level"))){if("no"==z.filterMultiple||"all-items-nofilter"==a)!1===r.hasClass("jig-filter"+z.filterType+"Selected")&&(r.siblings(".jig-filter"+z.filterType+"Selected").removeClass("jig-filter"+z.filterType+"Selected"),r.addClass("jig-filter"+z.filterType+"Selected"),z.selectedItems=z.filteredImages[a],o=!0);else{var n=r.parent().find(".jig-filter"+z.filterType+"Selected").length;if(1==n&&"all-items-nofilter"==r.siblings(".jig-filter"+z.filterType+"Selected").attr("data-filter-slug")&&r.siblings(".jig-filter"+z.filterType+"Selected").removeClass("jig-filter"+z.filterType+"Selected"),!1===r.hasClass("jig-filter"+z.filterType+"Selected"))r.addClass("jig-filter"+z.filterType+"Selected"),n++;else{if(1==n){if("all-items-nofilter"!=V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType).first().attr("data-filter-slug"))return;V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType).first().click().addClass("jig-filter"+z.filterType+"Selected")}r.removeClass("jig-filter"+z.filterType+"Selected"),n--}var l=[];if(r.parent().find(".jig-filter"+z.filterType+"Selected").each(function(){l.push(V(this).attr("data-filter-slug"))}),a=l.toString(),void 0===z.filteredImages[a]){z.filteredImages[a]=[];for(var s=0,d=z.allItems.length,c=0;c<d;c+=1)if(z.allItems[c].filters)for(i=z.allItems[c].filters.length,t=s=0;t<i;t+=1)"or"==z.filterMultiple?-1<V.inArray(z.allItems[c].filters[t][0],l)&&-1==V.inArray(z.allItems[c],z.filteredImages[a])&&z.filteredImages[a].push(z.allItems[c]):(-1<V.inArray(z.allItems[c].filters[t][0],l)&&s++,s==l.length&&-1==V.inArray(z.allItems[c],z.filteredImages[a])&&z.filteredImages[a].push(z.allItems[c]))}z.selectedItems=z.filteredImages[a],o=!0}o&&z.L2filters&&(z.L1selectedItems=z.selectedItems)}if(z.L2filters){if(2==(g=void 0===e?(r=V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).first()).parent().attr("data-filter-level"):g))if("no"==z.L2filterMultiple||"all-items-nofilter"==a)r.siblings(".jig-filter"+z.L2filterType+"Selected").removeClass("jig-filter"+z.L2filterType+"Selected"),r.addClass("jig-filter"+z.L2filterType+"Selected");else{var g=r.parent().find(".jig-filter"+z.L2filterType+"Selected").length;if(1==g&&"all-items-nofilter"==r.siblings(".jig-filter"+z.L2filterType+"Selected").attr("data-filter-slug")&&r.siblings(".jig-filter"+z.L2filterType+"Selected").removeClass("jig-filter"+z.L2filterType+"Selected"),!1===r.hasClass("jig-filter"+z.L2filterType+"Selected"))r.addClass("jig-filter"+z.L2filterType+"Selected"),g++;else{if(1==g){if("all-items-nofilter"!=V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).first().attr("data-filter-slug"))return;V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType).first().click().addClass("jig-filter"+z.L2filterType+"Selected")}r.removeClass("jig-filter"+z.L2filterType+"Selected"),g--}}var f=[];V("#jig"+z.instance+"-L2filter"+z.L2filterType+"s .jig-filter"+z.L2filterType+"Selected").each(function(){f.push(V(this).attr("data-filter-slug"))}),a=[],z.filters&&V("#jig"+z.instance+"-filter"+z.filterType+"s .jig-filter"+z.filterType+"Selected").each(function(){a.push(V(this).attr("data-filter-slug"))});var h=a.concat(f).toString();if(!1===z.filters&&(z.L1selectedItems=z.allItems),void 0===z.filteredImages[h])if(1==f.length&&"all-items-nofilter"==f[0])z.filteredImages[h]=z.L1selectedItems,z.selectedItems=z.filteredImages[h];else{z.filteredImages[h]=[];for(var p=0,d=z.L1selectedItems.length,c=0;c<d;c+=1)if(z.L1selectedItems[c].L2filters)for(i=z.L1selectedItems[c].L2filters.length,t=p=0;t<i;t+=1)"or"==z.L2filterMultiple?-1<V.inArray(z.L1selectedItems[c].L2filters[t][0],f)&&-1==V.inArray(z.L1selectedItems[c],z.filteredImages[h])&&z.filteredImages[h].push(z.L1selectedItems[c]):(-1<V.inArray(z.L1selectedItems[c].L2filters[t][0],f)&&p++,p==f.length&&-1==V.inArray(z.L1selectedItems[c],z.filteredImages[h])&&z.filteredImages[h].push(z.L1selectedItems[c]))}z.selectedItems=z.filteredImages[h],o=!0}if(o){z.element.find(".jig-imageContainer, .jig-hiddenLink").remove();for(var u=0,m=z.selectedItems.length;u<m;u+=1)z.selectedItems[u].linkContainer=void 0;_.createGallery("filter")}},b=function(){for(z.row=[],z.validRow=!0,z.fullWidth=0,z.extra=0;z.items.length>z.whileUntil&&z.extra<z.areaWidth;){var e=z.items.shift();e.newHeight=e.newWidth=e.containerHeight=e.containerWidth=e.marLeft=void 0,e.ratio=e.width/z.maxHeight,z.row.push(e),z.fullWidth+=Math.round(e.width*z.defaultHeightRatio)+z.margins+z.bordersTotal,z.extra=z.fullWidth-z.margins}if(z.extra-=z.areaWidth,0<z.row.length&&0<z.extra||0===z.rows.length&&z.items.length>z.whileUntil){for(var t="landscape",i=0,r=z.row.length;i<r;i+=1)if(z.row[i].ratio<1){t="portrait";break}("landscape"!=t&&"yes"!==z.disableCropping?l:o)()}else{if(0<z.rows.length&&z.items.length==z.whileUntil){switch(z.incompleteLastRow){case"flexible":l("flexible");break;case"flexible-center":l("flexible-center");break;case"hide":l("hide");break;case"flexible-match":"off"!==z.loadMore&&z.selectedItems.length-z.limit<=0?a():l("flexible");break;case"flexible-match-center":"off"!==z.loadMore&&z.selectedItems.length-z.limit<=0?a("center"):l("flexible-center");break;case"match":a();break;case"match-center":a("center");break;case"center":l("center");break;default:l("lastRow")}return!0===z.validRow?z.row:(z.imagesShown-=z.row.length,z.unshifts=z.row,z.whileUntil+=z.unshifts.length,!1)}"center"!==z.incompleteLastRow&&"match-center"!==z.incompleteLastRow&&"flexible-match-center"!==z.incompleteLastRow?l("lastRow"):l("center")}return z.row},a=function(e){for(var t,i=0,r=0,a=z.rows.length;r<a;r+=1)i=r;if(void 0!==z.rows[i]&&void 0!==z.rows[i][0]){t=z.rows[i][0].containerHeight||z.rows[i][0].newHeight,z.marginsTotal=(z.row.length-1)*z.margins+z.row.length*z.bordersTotal;for(var o=z.rowlen=0,n=z.row.length;o<n;o+=1)void 0!==z.rows[i][o]&&z.row[o].width==z.rows[i][o].width?(z.row[o].newHeight=z.rows[i][o].newHeight,z.row[o].containerHeight=z.rows[i][o].containerHeight,z.row[o].newWidth=z.rows[i][o].newWidth,z.row[o].containerWidth=z.rows[i][o].containerWidth,z.row[o].marLeft=z.rows[i][o].marLeft):(z.row[o].newHeight=t,z.row[o].newWidth=Math.round(z.row[o].newHeight*z.row[o].ratio)),z.rowlen+=z.row[o].newWidth,void 0!==z.row[o].marLeft&&(z.rowlen-=2*z.row[o].marLeft);t>z.targetHeight&&(z.remaining=z.rowlen+z.marginsTotal-z.areaWidth,0<z.remaining&&f()),void 0!==e&&z.rowlen+z.marginsTotal<z.areaWidth&&(z.row[0].spaceLeft=Math.floor(.5*(z.areaWidth-z.rowlen-z.marginsTotal)))}else l("lastRow")},o=function(){var e=!0;z.marginsTotal=(z.row.length-1)*z.margins+z.row.length*z.bordersTotal,z.rowlen=0,z.heights=[];for(var t=0,i=z.row.length;t<i;t+=1){var r=Math.round(z.row[t].width*z.defaultHeightRatio),a=Math.round((r+z.marginsTotal/z.row.length)/z.fullWidth*z.extra);if(z.row[t].newWidth=r-a,z.heights[t]=z.row[t].newWidth/z.row[t].ratio,z.heights[t]<z.minHeight)return void l();z.heights[t]>z.maxHeight?(z.row[t].newHeight=z.targetHeight,z.row[t].newWidth=Math.round(z.row[t].newHeight*z.row[t].ratio),e=!1):(z.row[t].newHeight=z.heights[t],z.rowlen+=z.row[t].newWidth)}e&&(z.remaining=z.rowlen+z.marginsTotal-z.areaWidth,f())},l=function(e){var t,i=!0;1!=z.row.length&&void 0===e&&(t=z.row.pop(),z.fullWidth-=Math.round(t.width*z.defaultHeightRatio)+z.margins+z.bordersTotal,z.items.unshift(t),z.extra=z.fullWidth-z.margins,z.extra-=z.areaWidth),z.marginsTotal=(z.row.length-1)*z.margins+z.row.length*z.bordersTotal,z.rowlen=0,z.heights=[];for(var r=0,a=z.row.length;r<a;r+=1){var o=Math.round(z.row[r].width*z.defaultHeightRatio),n=Math.round((o+z.marginsTotal/z.row.length)/z.fullWidth*z.extra);if(z.row[r].newWidth=o-n,z.heights[r]=z.row[r].newWidth/z.row[r].ratio,z.heights[r]>z.maxHeight){if(void 0===e)return n=z.items.shift(),z.row.push(n),z.fullWidth+=Math.round(n.width*z.defaultHeightRatio)+z.margins+z.bordersTotal,z.extra=z.fullWidth-z.margins,z.extra-=z.areaWidth,void h();if("off"!==z.loadMore&&z.selectedItems.length-z.limit<=0&&("flexible"==e?e="lastRow":"flexible-center"==e&&(e="center")),"lastRow"==e){for(var l=0,s=z.row.length;l<s;l+=1)z.row[l].newHeight=z.targetHeight,z.row[l].newWidth=Math.round(z.row[l].newHeight*z.row[l].ratio);return}if("center"==e){for(var d=0,c=0,g=z.row.length;c<g;c+=1)z.row[c].newHeight=z.targetHeight,z.row[c].newWidth=Math.round(z.row[c].newHeight*z.row[c].ratio),d+=z.row[c].newWidth;return void(z.row[0].spaceLeft=Math.floor(.5*(z.areaWidth-d-z.marginsTotal)))}z.validRow=!1,z.row[r].newWidth=void 0,i=!1}else if(z.heights[r]<z.minHeight&&void 0===e)return void h();void 0!==z.row[r].newWidth&&(z.row[r].newHeight=z.heights[r],z.rowlen+=z.row[r].newWidth)}i&&(z.remaining=z.rowlen+z.marginsTotal-z.areaWidth,f())},f=function(){if(0!==z.remaining)if(0<z.remaining)for(;0<z.remaining;)for(var e=0,t=z.row.length;e<t&&(z.row[e].newWidth--,z.row[e].newHeight=z.heights[e]=z.row[e].newWidth/z.row[e].ratio,z.remaining--,0!==z.remaining);e+=1);else for(;z.remaining<0;)for(var i=0,r=z.row.length;i<r&&(z.row[i].newWidth++,z.row[i].newHeight=z.heights[i]=z.row[i].newWidth/z.row[i].ratio,z.remaining++,0!==z.remaining);i+=1);for(var a=Math.floor(Math.min.apply(null,z.heights)),o=0,n=z.row.length;o<n;o+=1)z.row[o].containerHeight=a,z.row[o].newHeight=Math.round(z.row[o].newHeight)},h=function(){for(var e=n(),t=0,i=z.row.length;t<i;t+=1){var r=e[t],a=z.row[t];a.marLeft=Math.round(r/2),a.containerWidth=a.newWidth-r}},n=function(){var e=[],t=0;z.marginsTotal=(z.row.length-1)*z.margins+z.row.length*z.bordersTotal;for(var i=0,r=z.row.length;i<r;i+=1){var a=z.row[i],o=Math.round(z.row[i].width*z.defaultHeightRatio);a.newHeight=z.targetHeight,a.newWidth=o,e[i]=Math.round((o+z.marginsTotal/z.row.length)/z.fullWidth*z.extra),t+=e[i]}var n=z.extra-t;if(0!==n)if(0<n)for(;0<n;)for(var l=0,s=e.length;l<s&&(e[l]++,0!=--n);l+=1);else for(;n<0;)for(var d=0,c=e.length;d<c&&(e[d]--,0!=++n);d+=1);return e},I=function(e,t,i){if(isNaN(e.newWidth)||!e.width)return!1;void 0!==e.linkContainer&&(V(e.linkContainer).remove(),e.linkContainer=void 0),void 0===e[z.linkTitleField]&&(e[z.linkTitleField]=""),void 0===e[z.imgAltField]&&(e[z.imgAltField]=""),void 0===e[z.titleField]&&(e[z.titleField]=""),void 0===e[z.captionField]&&(e[z.captionField]=""),void 0===e.gallery&&(e.gallery="");var r="";e.carousel_data?(e.carousel_data=" "+e.carousel_data+" ",r=" tiled-gallery-item"):e.carousel_data="",e.extra_class&&(r+=" "+e.extra_class),e.off="",e.url=(e.link,e.url);var a,o=V('<div class="jig-imageContainer'+r+'"/>'),n=V('<div class="jig-overflow"/>'),l=e.url,s=e.link_target||"_self",d=z.linkClass,c=z.linkRel,g="",f="",r=!0;if(""!==e.gallery&&(o.append(e.gallery.html),c=' rel="'+e.gallery.rel+'" ',o.addClass(e.gallery.lightbox_class),o.attr("id",e.gallery.id)),e.link&&(l=e.link,"video"!==s&&"videoplayer"!==s?(d="foobox"!==s?'target="'+s+'" '+d.replace("jig-link","jig-customLink"):'target="'+s+'" '+d.replace("jig-link",""),c=e.link_rel?'rel="'+e.link_rel+'"':""):"magnific"==z.lightbox&&-1==d.indexOf("mfp-")&&(d=d.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=s&&"foobox"!=s||-1===l.indexOf("&poster=")&&-1===l.indexOf("|poster=")||(r=!1)),!0===r&&("https%3A%2F%2F"===(l=(l+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===l.substr(0,13)))try{l=decodeURIComponent(l)}catch(e){}g=e[z.linkTitleField],f=e[z.imgAltField],e.download&&("yes"==z.downloadLink?g+=a=(0!==g.length?z.separatorCharacter:"")+e.download:"alt"==z.downloadLink&&(f+=a=(0!==f.length?z.separatorCharacter:"")+e.download)),e.lightbox_link&&("yes"==z.lightboxLink?g+=(0!==g.length?z.separatorCharacter:"")+e.lightbox_link:"alt"==z.lightboxLink&&(f+=(0!==f.length?z.separatorCharacter:"")+e.lightbox_link)),""!==g&&(g='title="'+g+'" '),""!==f&&(f='alt="'+f+'" '),"new_tab"==z.lightbox&&(d='target="_blank" '),r=z.linkAttribute,e.extra_class&&(r=r.replace("*content*",e.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1")));var h,p,u,m,l=V("<a "+d+c+r+g+(e.wh?'data-wh="'+e.wh+'" ':"")+'href="'+("links-off"!=z.lightbox?l:"#")+'" />'),f=V("<img "+f+e.carousel_data+"/>");return e.carousel_data&&e.download&&("yes"==z.downloadLink?(a=(0!==f.attr("data-image-title").length?z.separatorCharacter:"")+V("<textarea />").html(e.download).val(),f.attr("data-image-title",f.attr("data-image-title")+a)):"alt"==z.downloadLink&&(a=(0!==f.attr("data-image-description").length?"<br />":"")+V("<textarea />").html(e.download).val(),f.attr("data-image-description",f.attr("data-image-description")+a))),void 0!==e.geo&&f.attr("data-geo",e.geo),i==t-1&&o.addClass("jig-last"),n.css("width",(e.containerWidth||e.newWidth)+"px"),n.css("height",(e.containerHeight||e.newHeight)+"px"),e.photon?f.attr("src",decodeURIComponent((e.photon+"").replace(/\+/g,"%20"))):(i=e.thumbUrl||e.url,t=z.originalMaxHeight,m="","normal"==z.thumbnailFilename&&null!==(p=/.*\.(jpe?g|gif|bmp|png|webp)/im.exec(i))&&(m="&f=."+p[1]),z.aspectRatio||z.randomizeWidth?(h=z.maxWidth,""!==z.randomizeWidth&&(h=void 0!==e.originalWidth?e.originalWidth:e.width),"yes"==z.retinaReady&&(t=Math.floor(t*z.devicePixelRatio),h=Math.floor(h*z.devicePixelRatio)),f.attr("src",z.timthumb+"?src="+i+"&h="+t+"&w="+h+"&q="+z.quality+z.cropZone+m)):"yes"==z.retinaReady?(t=Math.floor(t*z.devicePixelRatio),h=Math.floor((void 0!==e.originalWidth?e.originalWidth:e.width)*z.devicePixelRatio),f.attr("src",z.timthumb+"?src="+i+"&h="+t+"&w="+h+"&q="+z.quality+z.cropZone+m)):f.attr("src",z.timthumb+"?src="+i+"&h="+t+"&q="+z.quality+z.cropZone+m)),f.attr("width",e.newWidth).css("width",e.newWidth+"px"),f.attr("height",e.newHeight).css("height",e.newHeight+"px"),e.marLeft&&f.css("margin-left",-e.marLeft+"px"),("center"==z.incompleteLastRow||"flexible-center"==z.incompleteLastRow||"flexible-match-center"==z.incompleteLastRow||"match-center"==z.incompleteLastRow)&&e.spaceLeft&&0<e.spaceLeft&&(o.css("ltr"==z.readingDirection?"margin-left":"margin-right",e.spaceLeft+"px"),e.spaceLeft=0),f.css("margin-top",0),l.append(f),"off"!==z.overlay&&l.append('<div class="jig-overlay-wrapper"><div class="jig-overlay"></div></div>'+("on"===z.overlayIcon?'<div class="jig-overlay-icon-wrapper"><div class="jig-overlay-icon"></div></div>':"")),"off"!==z.caption&&(""!==e.gallery&&(e[z.titleField]=void 0!==e.gallery[z.titleField]&&""!==e.gallery[z.titleField]&&" "!==e.gallery[z.titleField]?e.gallery[z.titleField]:"",e[z.captionField]=void 0!==e.gallery[z.captionField]&&""!==e.gallery[z.captionField]&&" "!==e.gallery[z.captionField]?e.gallery[z.captionField]:""),(u="")!==e[z.titleField]&&" "!==e[z.titleField]&&(u+='<div class="jig-caption-title">'+v(e[z.titleField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div>"),""!==e[z.captionField]&&" "!==e[z.captionField]&&(u+='<div class="jig-caption-description-wrapper"><div class="jig-caption-description'+(""!==u?"":" jig-alone")+'">'+v(e[z.captionField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div></div>"),""!==u?(e.$captionWrapper=V('<div class="jig-caption-wrapper jig-cw-role-real"><div class="jig-caption">'+u+"</div></div>"),"below"!==z.caption?l.append(e.$captionWrapper):0!==z.middleBorderWidth&&"always"==z.innerBorder&&"always"!==z.middleBorder?o.append(e.$captionWrapper.width(n.width()-2*parseFloat(z.innerBorderWidth))):o.append(e.$captionWrapper.css({width:n.css("width")}))):"below"==z.caption&&(e.$captionWrapper=V('<div class="jig-caption-wrapper"></div>'),0!==z.middleBorderWidth&&"always"==z.innerBorder&&"always"!==z.middleBorder?o.append(e.$captionWrapper.width(n.width()-2*parseFloat(z.innerBorderWidth))):o.append(e.$captionWrapper.css({width:n.css("width")})))),0===z.bordersTotal&&0===z.innerBorderWidth||l.append('<div class="jig-border"></div>'),n.append(l),e.carousel_data&&e.caption&&n.append('<div class="tiled-gallery-caption">'+v(e.caption)+"</div>"),o.prepend(n),z.element.find(".jig-clearfix").before(o),"off"!==z.caption&&("below"==z.caption?w(o):"captions"!=z.specialFx||0!==(m=o.find(".jig-cw-role-real")).length&&((u="no"==z.captionMatchWidth||z.captionMatchWidthForceNo?V(m[0].cloneNode(!1)):m.clone()).removeClass("jig-cw-role-real").addClass("jig-cw-role-effect"),("off"!==z.overlay?o.find(".jig-overlay-wrapper"):m).before(u))),e.container=o,e.overflow=n,e.img=f,e.linkElement=l,o},k=function(e,t,i){i==t-1?e.container.addClass("jig-last"):e.container.removeClass("jig-last");var r,i=e.overflow,t=e.img;i.css("width",(e.containerWidth||e.newWidth)+"px").width(),i.css("height",(e.containerHeight||e.newHeight)+"px"),t.attr("width",e.newWidth).css("width",e.newWidth+"px"),t.attr("height",e.newHeight).css("height",e.newHeight+"px"),e.marLeft?t.css("margin-left",-e.marLeft+"px"):t.css("margin-left",""),"center"!=z.incompleteLastRow&&"flexible-center"!=z.incompleteLastRow&&"flexible-match-center"!=z.incompleteLastRow&&"match-center"!=z.incompleteLastRow||(e.spaceLeft&&0<e.spaceLeft?(e.container.css("ltr"==z.readingDirection?"margin-left":"margin-right",e.spaceLeft+"px"),e.spaceLeft=0):e.container.css("ltr"==z.readingDirection?"margin-left":"margin-right","")),"off"!=z.specialFx&&(0===(r=t.siblings(".jig-pixastic")).length&&"captions"==z.specialFx&&(r=t.siblings(".jig-cw-role-effect").find(".jig-pixastic")),d(r,t)),"below"==z.caption&&(0!==z.middleBorderWidth&&"always"==z.innerBorder&&"always"!==z.middleBorder?e.$captionWrapper.width((e.containerWidth||e.newWidth)-2*parseFloat(z.innerBorderWidth)):e.container.css({width:(e.containerWidth||e.newWidth)+"px"})),"off"!==z.caption&&"off"!==z.verticalCenterCaptions&&((r=e.container.find(".jig-cw-role-real").clone()).find(".jig-caption").css("display","block"),r.appendTo(e.linkElement).css({bottom:"auto",opacity:.01}).css("top",Math.round((e.containerHeight||e.newHeight)/2-r.height()/2)),t=r.css("top"),r.remove(),e.container.find(".jig-caption-wrapper").css({bottom:"auto"}).animate({top:t},z.animSpeed,"JIGeaseInOutQuad"))},L=function(e){void 0===e[z.linkTitleField]&&(e[z.linkTitleField]=""),void 0===e[z.imgAltField]&&(e[z.imgAltField]=""),void 0===e[z.titleField]&&(e[z.titleField]=""),void 0===e[z.captionField]&&(e[z.captionField]="");var t=e.off="";e.carousel_data?(e.carousel_data=" "+e.carousel_data+" ",t=" tiled-gallery-item"):e.carousel_data="",e.extra_class&&(t+=" "+e.extra_class);var i,r=e.url,a="",o="",n=z.hiddenLinkClass,l=e.link_target||"_self",s=z.linkRel,d=!0;if(""!==t&&(n=n.replace('jig-hiddenLink"',"jig-hiddenLink"+t+'"')),e.link&&(r=e.link,"video"!==l&&"videoplayer"!==l?(n="foobox"!==l?'target="'+l+'" '+n.replace("jig-link","jig-customLink jig-hiddenLink"):'target="'+l+'" '+n.replace("jig-link","jig-hiddenLink"),s=e.link_rel?'rel="'+e.link_rel+'"':""):"magnific"==z.lightbox&&-1==n.indexOf("mfp-")&&(n=n.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=l&&"foobox"!=l||-1===r.indexOf("&poster=")&&-1===r.indexOf("|poster=")||(d=!1)),!0===d&&("https%3A%2F%2F"===(r=(r+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===r.substr(0,13)))try{r=decodeURIComponent(r)}catch(e){}a=e[z.linkTitleField],o=e[z.imgAltField],e.download&&("yes"==z.downloadLink?a+=i=(0!==a.length?z.separatorCharacter:"")+e.download:"alt"==z.downloadLink&&(o+=i=(0!==o.length?z.separatorCharacter:"")+e.download)),e.lightbox_link&&("yes"==z.lightboxLink?a+=(0!==a.length?z.separatorCharacter:"")+e.lightbox_link:"alt"==z.lightboxLink&&(o+=(0!==o.length?z.separatorCharacter:"")+e.lightbox_link)),""!==a&&(a='title="'+a+'" '),""!==o&&(o='alt="'+o+'" '),d=z.linkAttribute,e.extra_class&&(d=d.replace("*content*",e.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1"))),r=V("<a "+n+s+d+a+(e.wh?'data-wh="'+e.wh+'" ':"")+'href="'+("links-off"!=z.lightbox?r:"#")+'"/>'),o=V('<img class="jig-hiddenImg" '+o+e.carousel_data+"/>"),e.carousel_data&&e.download&&("yes"==z.downloadLink?(i=(0!==o.attr("data-image-title").length?z.separatorCharacter:"")+V("<textarea />").html(e.download).val(),o.attr("data-image-title",o.attr("data-image-title")+i)):"alt"==z.downloadLink&&(i=(0!==o.attr("data-image-description").length?"<br />":"")+V("<textarea />").html(e.download).val(),o.attr("data-image-description",o.attr("data-image-description")+i))),o.attr("src","data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D"),r.append(o),e.linkContainer=r,(void 0!==z.currentHiddenLink?V(z.currentHiddenLink):z.element.find(".jig-clearfix")).after(r),z.currentHiddenLink=r},d=function(e,t){t.off("load"),0!==e.length&&e.off("load").remove(),t.clone().addClass("jig-pixastic").insertAfter(t).on("load",C).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth)&&V(this).trigger("load")})},C=function(){if(!0!==V(this).hasClass("jig-specialfx-complete"))if(V(this).stop().css("display","block").css("opacity",1),""===z.specialFxOptions)switch(z.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio,average:!1},i);break;case"blur":Pixastic.process(this,"blurfast",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio,amount:.5},i);break;case"glow":Pixastic.process(this,"glow",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio,amount:.3,radius:.2},i);break;case"sepia":Pixastic.process(this,"sepia",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio},i);break;case"laplace_dark":Pixastic.process(this,"laplace",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio,edgeStrength:2,invert:!1,greyLevel:0},i);break;case"laplace_light":Pixastic.process(this,"laplace",{retinaReady:z.retinaReady,devicePixelRatio:z.devicePixelRatio,edgeStrength:2,invert:!0,greyLevel:0},i)}else{var e=function(e){for(var t={},i=0,r=e.length;i<r;i+=1){var a=e[i].split(":");t[a[0]]=a[1]}return t.retinaReady=z.retinaReady,t.devicePixelRatio=z.devicePixelRatio,t}(z.specialFxOptions);switch(z.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",e,i);break;case"blur":Pixastic.process(this,"blurfast",e,i);break;case"glow":Pixastic.process(this,"glow",e,i);break;case"sepia":Pixastic.process(this,"sepia",i);break;case"laplace_dark":case"laplace_light":Pixastic.process(this,"laplace",e,i)}}V(this).off("load")},i=function(t,e){if(!1===t){var i=V(e);return i.siblings(".jig-cw-role-effect").remove(),void i.remove()}if(t=V(t),"hovered"===z.specialFx?t.css("opacity",z.hiddenOpacity):t.css("opacity",z.specialFxBlend),t.addClass("jig-specialfx-complete"),"captions"==z.specialFx){if(i=t.closest(".jig-imageContainer").find(".jig-cw-role-effect"),"no"==z.captionMatchWidth)t.appendTo(i);else try{var r=t[0].toDataURL("image/jpeg"),a=t.css("width")+" "+t.css("height");t.remove(),i.find(".jig-caption-title").css({"background-image":"url("+r+")","background-size":a}),i.find(".jig-caption-description").css({"background-image":"url("+r+")","background-size":a})}catch(e){z.captionMatchWidthForceNo=!0,(a=t.closest(".jig-imageContainer")).find(".jig-cw-role-effect .jig-caption").remove(),a.find(".jig-caption-title").css({display:"block"}),t.appendTo(i)}q(J(i))}},J=function(e,t){var i={};if(i.roleEffect=e.eq(0).closest(".jig-caption-wrapper"),0===i.roleEffect.length)return!1;if("no"==z.captionMatchWidth||z.captionMatchWidthForceNo)i.roleEffect.hasClass("jig-cw-role-effect")?i.roleReal=i.roleEffect.siblings(".jig-cw-role-real"):(i.roleReal=i.roleEffect,i.roleEffect=i.roleEffect.siblings(".jig-cw-role-effect")),t&&(i.fadeZeroHeight=t),i.captionElement=i.roleReal.find(".jig-caption");else{if(i.roleEffect=i.roleEffect.filter(".jig-cw-role-effect"),!i.roleEffect.hasClass("jig-cw-role-effect"))return!1;i.img=i.roleEffect.siblings("img"),i.captionTitle=i.roleEffect.find(".jig-caption-title"),i.captionDescription=i.roleEffect.find(".jig-caption-description")}return i},q=function(e){if(!1===e)return!1;var t,i,r,a;"no"==z.captionMatchWidth||z.captionMatchWidthForceNo?(a=e.roleReal.position(),0!==e.roleReal.height()?(e.roleEffect.css({height:e.captionElement.height()+"px"}).find(".jig-pixastic").css({top:-a.top+"px"}),e.fadeZeroHeight&&e.roleEffect.css({opacity:e.captionElement.css("opacity")})):e.roleEffect.find(".jig-pixastic").css({top:-a.top+"px"})):(t=e.roleEffect.position(),i=e.captionTitle.position(),r=e.captionDescription.position(),a=parseInt(e.img.css("margin-left"),10),i&&e.captionTitle.css({"background-position":a-i.left+"px "+-t.top+"px"}),r&&e.captionDescription.css({"background-position":a+"px "+(-r.top-t.top)+"px"}))},w=function(e){e.find(".jig-caption-wrapper").dotdotdot({watch:!0,keep:"br"})};z.errorChecked=!1;var T=function(){0<V(".jig-unloadable").length&&(z.errorChecked=!0,z.element.find(".jig-unloadable").remove(),_.createGallery("errorCheck"))},R=function(){"yes"!==z.suppressErrors&&("publicly"===z.suppressErrors&&!V("body").hasClass("logged-in")||z.element.html('<a href="https://justifiedgrid.com/support/fix/all-of-the-images-have-failed-to-load/" target="_blank" rel="external nofollow" style="border-style:none; text-decoration: none; font-weight: bold;"><div style="background-color: #212121; color: white; padding: 10px; display: inline-block;">JIG</div><div style="background-color: #b71c1c; color:white; color: rgba(255, 255, 255, 0.87); padding: 10px; display: inline-block;">All of the images have failed to load. Please click here to reach the troubleshooting fix.</div></a>'))};function U(e,t){return"hasOwnProperty"in e?e.hasOwnProperty(t):Object.prototype.hasOwnProperty.call(e,t)}function v(e,i){return e=function(e,t){if(void 0===e)return"";var i=0,r=!1;void 0===t&&(t=2),e=e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var a={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===t&&(r=!0),"number"!=typeof t){for(var o=0,n=(t=[].concat(t)).length;o<n;o+=1)0===a[t[o]]?r=!0:a[t[o]]&&(i|=a[t[o]]);t=i}return t&a.ENT_HTML_QUOTE_SINGLE&&(e=e.replace(/&#0*39;/g,"'")),(e=!r?e.replace(/&quot;/g,'"'):e).replace(/&amp;/g,"&")}(e),"below"==z.caption?e:(i=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return-1<i.indexOf("<"+t.toLowerCase()+">")?e:""}))}function $(e){void 0!==e&&e.stopPropagation();var t=z.element.find(".jig-overflow > a.jig-loaded").length,e=z.element.find(".jig-imageContainer .jig-overflow > a").length;"no"==z.errorChecking&&(e-=5),void 0!==z.loadCheckTimeout&&clearTimeout(z.loadCheckTimeout),t<e?(z.loadCheckTimeout=setTimeout(function(){$()},500),z.loadMoreButton.animate({opacity:.5},300,"JIGswing")):(z.loadMoreButton.animate({opacity:1},300,"JIGswing"),z.limit+=z.originalLimit,z.loadMoreCounter++,"once"==z.loadMore&&(z.limit=z.allItems.length),_.createGallery())}_.init()},V.fn.justifiedImageGrid=function(t){return this.each(function(){var e;void 0===V(this).data("justifiedImageGrid")&&(e=new V.justifiedImageGrid(this,t),V(this).data("justifiedImageGrid",e))})},V.extend(V.easing,{JIGswing:function(e){return.5-Math.cos(e*Math.PI)/2},JIGeaseInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}}),V.fn.JIGhoverFlow=function(t,i,e,r,a){if(-1==V.inArray(t,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var o="object"==typeof e?e:{complete:a||!a&&r||"function"==typeof e&&e,duration:e,easing:a&&r||r&&"function"!=typeof r&&r};void 0===o.easing&&(o.easing="JIGswing"),o.queue=!1;var n=o.complete;return o.complete=function(){V(this).dequeue(),"function"==typeof n&&n.call(this)},this.each(function(){var e=V(this);"mouseover"==t||"mouseenter"==t?e.data("jQuery.JIGhoverFlow",!0):e.removeData("jQuery.JIGhoverFlow"),e.queue(function(){("mouseover"==t||"mouseenter"==t?void 0!==e.data("jQuery.JIGhoverFlow"):void 0===e.data("jQuery.JIGhoverFlow"))?e.animate(i,o):e.queue([])})})},function(s){"use strict";function t(e,t){return e-t}function d(e){return 4===e.length&&(e=e.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3")),e=/(\w{2})(\w{2})(\w{2})/.exec(e),[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}s.fn.tagcloud=function(e){var a,o,i,r,n=s.extend({},s.fn.tagcloud.defaults,e),e=this.map(function(){return s(this).attr("rel")}),l=(e=jQuery.makeArray(e).sort(t))[0];return 0===(e=e.pop()-l)&&(e=1),n.size&&(a=(n.size.end-n.size.start)/e),n.color&&(i=n.color,r=e,o=jQuery.map(d(i.end),function(e,t){return(e-d(i.start)[t])/r})),this.each(function(){var e,i,r,t=s(this).attr("rel")-l;n.size&&s(this).css({"font-size":n.size.start+t*a+n.size.unit}),n.color&&s(this).css({color:(e=n.color,i=o,r=t,e=jQuery.map(d(e.start),function(e,t){return 255<(t=Math.round(e+i[t]*r))?t=255:t<0&&(t=0),t}),"#"+jQuery.map(e,function(e){return 1===(e=e.toString(16)).length?"0"+e:e}).join(""))})})},s.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}}}(jQuery),V.JIGjQueryMinVersion=function(e,t){if(e){var i=V().jquery,e=e.split("."),i=i.split("."),r=[],a=[],o=!1;r[0]=isNaN(parseInt(e[0],10))?0:parseInt(e[0],10),r[1]=isNaN(parseInt(e[1],10))?0:parseInt(e[1],10),r[2]=isNaN(parseInt(e[2],10))?0:parseInt(e[2],10),r[3]=isNaN(parseInt(e[3],10))?0:parseInt(e[3],10),a[0]=isNaN(parseInt(i[0],10))?0:parseInt(i[0],10),a[1]=isNaN(parseInt(i[1],10))?0:parseInt(i[1],10),a[2]=isNaN(parseInt(i[2],10))?0:parseInt(i[2],10),a[3]=isNaN(parseInt(i[3],10))?0:parseInt(i[3],10);for(var n=0;n<4;n++){if(!(r[n]<=a[n])){o=!1;break}if(o=!0,r[n]!=a[n])break}if(!0===o)return!0;if(!0!==t)return!1;V(".justified-image-grid").html('<span style="color:red;font-weight:bold">Your jQuery version ('+V().jquery+") is old, this plugin needs at least 1.7, please go to the plugin settings and choose another jQuery source. If this does not work then your theme or a plugin is not using WordPress best practices and forces the loading of an old version. In that case contact the author of Justified Image Grid.</span>")}return!1}}loadJustifiedImageGrid(jQuery);